var fe=Object.defineProperty,ye=Object.defineProperties;var _e=Object.getOwnPropertyDescriptors;var se=Object.getOwnPropertySymbols;var be=Object.prototype.hasOwnProperty,we=Object.prototype.propertyIsEnumerable;var oe=(e,s,o)=>s in e?fe(e,s,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[s]=o,J=(e,s)=>{for(var o in s||(s={}))be.call(s,o)&&oe(e,o,s[o]);if(se)for(var o of se(s))we.call(s,o)&&oe(e,o,s[o]);return e},te=(e,s)=>ye(e,_e(s));import{d as C,r as le,o as a,c as l,a as t,F as g,b,e as m,n as L,f as M,g as _,_ as p,h as Se,i as x,w as f,v as O,t as u,j as y,L as ke,l as V,k as B,m as Ce,p as xe,q as $e,s as R,u as N,x as z,y as Pe,z as Te,A as G,B as S,C as E,D as A,V as Le,S as H,E as Q,T as Me,N as Y,G as ie,H as Ae,I as Ie,M as de,J as Be,K as Ne}from"./vendor.js";const ze=function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const d of document.querySelectorAll('link[rel="modulepreload"]'))n(d);new MutationObserver(d=>{for(const c of d)if(c.type==="childList")for(const i of c.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function o(d){const c={};return d.integrity&&(c.integrity=d.integrity),d.referrerpolicy&&(c.referrerPolicy=d.referrerpolicy),d.crossorigin==="use-credentials"?c.credentials="include":d.crossorigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function n(d){if(d.ep)return;d.ep=!0;const c=o(d);fetch(d.href,c)}};ze();var k=(e,s)=>{const o=e.__vccOpts||e;for(const[n,d]of s)o[n]=d;return o};const Oe=C({components:{SearchIcon:le}}),Ve={class:"fixed right-10 bottom-20 bg-gray-800 rounded-full p-2 drop-shadow-lg cursor-pointer border border-gray-800 text-gray-100"},Re=t("img",{src:"https://res.cloudinary.com/vidmax/image/upload/v1665031364/mapche-icon_e6536c.png",class:"h-8 w-8"},null,-1),qe=[Re];function Ee(e,s,o,n,d,c){return a(),l("div",Ve,qe)}var Fe=k(Oe,[["render",Ee]]);const De={clickableIcons:!1,streetViewControl:!1,panControlOptions:!1,gestureHandling:"greedy",fullscreenControl:!1,mapTypeControl:!1,zoomControlOptions:{style:"SMALL"},zoom:2,minZoom:17,maxZoom:19,tilt:0,styles:[{featureType:"all",elementType:"all",stylers:[{hue:"#e7ecf0"}]},{featureType:"poi",elementType:"all",stylers:[{visibility:"simplified"}]},{featureType:"poi",elementType:"labels.text",stylers:[{visibility:"on"}]},{featureType:"poi",elementType:"labels.icon",stylers:[{visibility:"on"}]},{featureType:"poi.park",elementType:"geometry.fill",stylers:[{color:"#8ed863"}]},{featureType:"road",elementType:"all",stylers:[{saturation:-70}]},{featureType:"transit",elementType:"all",stylers:[{visibility:"off"}]},{featureType:"water",elementType:"all",stylers:[{visibility:"simplified"},{saturation:-60}]},{featureType:"water",elementType:"geometry.fill",stylers:[{color:"#8abdec"}]},{featureType:"water",elementType:"geometry.stroke",stylers:[{color:"#9cbbf0"}]},{featureType:"water",elementType:"labels.text",stylers:[{visibility:"off"}]}]},Ue=C({emits:["choice"],props:{results:{type:Array,default:[]},selected:{type:Number,default:0}},watch:{selected(e,s){var o,n;if(e!==-1&&e!==s){const d=(o=document.getElementById("mapche-search"))==null?void 0:o.shadowRoot;(n=d==null?void 0:d.getElementById(`result-${e}`))==null||n.scrollIntoView({behavior:"smooth",block:"nearest",inline:"nearest"})}}}}),je={class:"text-gray-700 flex flex-col divide-y"},Ge=["place_id","onClick"],Ke=["innerHTML"],We={key:0};function He(e,s,o,n,d,c){return a(),l("div",je,[(a(!0),l(g,null,b(e.results,(i,r)=>(a(),l("a",{key:r,place_id:`result-${r}`,class:L(["px-5 py-4 hover:bg-gray-100 cursor-pointer flex flex-col gap-1",e.selected===r?"selected bg-gray-100":""]),onClick:h=>e.$emit("choice",[i])},[t("p",{class:"truncate",innerHTML:i.description},null,8,Ke)],10,Ge))),128)),e.results.length?(a(),l("div",We)):m("",!0)])}var Ze=k(Ue,[["render",He]]);const Xe={},Je={class:"text-gray-300 flex gap-1 justify-end px-3 py-2 text-xs font-bold"},Qe=t("span",null,[M("Powered by "),t("a",{class:"text-gray-400",href:"https://mapchi.com"},"mapchi")],-1),Ye=[Qe];function et(e,s){return a(),l("div",Je,Ye)}var tt=k(Xe,[["render",et]]);let K,re;async function st(){if(K&&Date.now()<re)return K;const e={username:"testapi@pindrop.co.za",password:"Pindrop1@"};try{return K=(await _.post("https://adapi.pindrop.co.za/advanced/authorize",e)).data.token,re=Date.now()+45*60*1e3,_.defaults.headers.common.Token=K,K}catch(s){throw s}}async function ot(e,s,o){const n=await st();console.log(n);try{console.log(o);const d=await _.get(`/mapche-api/v1/user-preferences/?mapche_key=${o}`);console.log(d);const c=localStorage.getItem("business");console.log(c);const i=d.data.filter(j=>j.business===parseInt(c)).map(j=>j.supplier_id);console.log(i,"Chosen Providers");const r=[{MFN:2,Seacom:3,Liquid:6,Axxess:9,vumatelftth:46,thinkspeedftth:44,octotelftth:47,evotelftth:48,frogfootftth:54,ttconnectftth:55,mitsolftth:56,risetelecomsftth:57,clearaccessftth:58,sadvcomplexesftth:59,sadvsuburbiaftth:60,teralinkftth:61,metrofibrenetworkxftth:62,blitzfibreftth:63,netstreamftth:64,lightstruckftth:65,operserveftth:67,thinkwifi:68,steyncityftth:69,mabonengvumatelftth:70,mtnlte:71,telkomlte:72,EasyWeb:10,Vodacom:38,Openserve:19,Bitco:20,DFA:26,Skywire:27,Comsol:28,VOConnect:35,WIOCC:42,MTN:43,Mesh:45,Frogfoot:53,LinkAfrica:84}],h={Lat:e,Lng:s,SupplierIncludes:i},Z=(await _.post("https://adapi.pindrop.co.za/advanced/requestServices",h)).data.results,X=p.uniqBy(Z,"product");return{productsAvailable:X,amount:X.length,providerApiresults:Z}}catch(d){throw d}}const it=C({props:{modelValue:{type:String}},components:{SearchIcon:le,EyeIcon:Se},data(){return{}},computed:{inputValue:{get(){return this.modelValue},set(e){this.$emit("update:modelValue",e)}},ctrlKey(){let e="";return navigator.platform?e=navigator.platform.toLowerCase():navigator.userAgentData&&(e=navigator.userAgentData.platform.toLowerCase()),e.includes("mac")||e.includes("iphone")||e.includes("ipad")?"\u2318":"Ctrl"}},methods:{focus(){this.$refs.input.focus()},unfocus(){this.$refs.input.blur()}}}),rt={class:"relative flex gap-4 p-4"},at={class:"flex items-center pointer-events-none"},nt={class:"hidden sm:flex absolute inset-y-0 right-4 text-xs text-gray-300 justify-center items-center"},lt={id:"catche-shortcut",class:"border rounded flex justify-center items-center py-0.5 px-1"};function dt(e,s,o,n,d,c){const i=y("SearchIcon");return a(),l("div",rt,[t("div",at,[x(i,{class:"h-7 w-7 text-gray-400","aria-hidden":"true"})]),f(t("input",{ref:"input","onUpdate:modelValue":s[0]||(s[0]=r=>e.inputValue=r),type:"text",placeholder:"Enter your address...",class:"focus:ring-0 focus:border-0 focus-visible:outline-none p-0 w-full bg-transparent border-0 text-lg"},null,512),[[O,e.inputValue]]),t("div",nt,[t("span",lt,u(e.ctrlKey)+" + M",1)])])}var ct=k(it,[["render",dt]]);async function pt(e){const s={version:"weekly",libraries:["places"]},n=await new ke(e,s).load(),d=new n.maps.places.AutocompleteService;return{google:n,searchService:d}}function ut(e,s){return new google.maps.Map(e,s)}const ht=C({async mounted(){const{google:e,searchService:s}=await pt(this.GKey);this.google=e,this.searchService=s,this.searchDebounced=V.exports.debounce(this.search,this.debounceMsec,{immediate:!0})},emits:["toResults"],props:{GKey:String,sessionNew:Object},components:{SearchBox:ct},data(){return{google:null,searchDebounced:null,location:"",debounceMsec:500,places:[],googleSessionToken:[],searchService:null}},watch:{location(e){var s;if(V.exports.isEmpty(e)||e.length<3){this.$nextTick(()=>{this.places=[]});return}else this.googleSessionToken.length==0||((s=this.sessionNew)==null?void 0:s.length)==0?this.generateNewSessionToken():this.searchDebounced(),this.searchDebounced()}},created(){this.generateNewSessionToken=V.exports.debounce(this.generateNewSessionToken,this.debounceMsec)},methods:{async search(){try{if(this.location==""){console.log("location is empty");return}else{this.googleSessionToken.length==0&&this.generateNewSessionToken();const s=(await this.searchService.getPlacePredictions({input:this.location,sessionToken:this.googleSessionToken,componentRestrictions:{country:"ZA"}})).predictions;this.$emit("toResults",[s,this.googleSessionToken])}}catch(e){console.log(e)}},generateNewSessionToken(){this.googleSessionToken=new google.maps.places.AutocompleteSessionToken,console.log(this.googleSessionToken)}}});function mt(e,s,o,n,d,c){const i=y("SearchBox");return a(),B(i,{class:"mapche-input",modelValue:e.location,"onUpdate:modelValue":s[0]||(s[0]=r=>e.location=r),ref:"searchBox"},null,8,["modelValue"])}var vt=k(ht,[["render",mt]]);const gt=async(e,s)=>{try{return(await _.patch(`/mapche-api/v1/search/${e}/`,{mobile:s})).data}catch(o){throw o}},ft=async(e,s,o)=>{const n={mapche_key:localStorage.getItem("key"),formatted_address:e.formatted_address,location_lat:e.geometry.location.lat,location_lng:e.geometry.location.lng,place_id:e.place_id,address_component_nr:I(e,"street_number"),address_component_street:I(e,"route"),address_component_suburb:I(e,"sublocality"),address_component_town:I(e,"locality"),address_component_metro:I(e,"administrative_area_level_2"),address_component_province:I(e,"administrative_area_level_1"),address_component_province_short:I(e,"administrative_area_level_1",!0),address_component_country:I(e,"country"),address_component_country_short:I(e,"country",!0),address_component_postal_code:I(e,"postal_code"),infocity:s.city,infocountry:s.country,infoip:s.ip,infolocation:s.loc,infoorganization:o[1],infopostal_code:s.postal,inforegion:s.region,infotimezone:s.timezone,mobile:localStorage.getItem("mobile")};try{const d=await _.post("/mapche-api/v1/search/",n);d.data&&localStorage.setItem("sid",d.data.id)}catch(d){throw d}},I=(e,s,o=!1)=>{const n=e.address_components.find(d=>d.types.includes(s));return n?o?n.short_name:n.long_name:""},yt=async()=>{try{const e=await _.get("https://ipinfo.io/json?token=271f90a2fb9370"),o=e.data.org.split(/ (.*)/);return{ipDetails:e.data,org:o}}catch(e){throw e}};const _t=C({mounted(){},emits:["toLoc","provider"],props:{mapConfig:Object,searchValue:String,googleSessionToken:Object},components:{QuestionMarkCircleIcon:Ce,CheckIcon:xe,XIcon:$e},data(){return{showInfoWindow:!0,showConfirmation:!1,category:null,map:null,index:0,placesServiceresults:[],latLng:"",infoContent:!1,container:"Correct Location",geocodeUsed:!1,ipDetails:[],org:[],company:"",contact_person:"",email:"",phone:"",estimated_value:0,confidence:0,website:"",status:"new",priority:"medium",formatted_address:"",location_lat:0,location_lng:0,location_type:"",place_id:"",address_component_nr:"",address_component_street:"",address_component_suburb:"",address_component_town:"",address_component_metro:"",address_component_province:"",address_component_province_short:"",address_component_country:"",address_component_country_short:"",address_component_postal_code:"",errors:[],images:[{id:1,src:"https://res.cloudinary.com/vidmax/image/upload/c_scale,h_60/v1687767330/Marker-Pindrop_mnl7zz.png",alt:"Red"},{id:2,src:"https://res.cloudinary.com/vidmax/image/upload/c_scale,h_60/v1660849611/Marker-MTN_pxapfa.png",alt:"Yellow"},{id:3,src:"https://res.cloudinary.com/vidmax/image/upload/c_scale,h_60/v1660849844/Marker-MFN_pphbrv.png",alt:"Blue"},{id:4,src:"https://res.cloudinary.com/vidmax/image/upload/c_scale,h_60/v1661072056/Marker-Openserve_iptfmk.png",alt:"Green"}]}},watch:{searchValue(e){V.exports.isEmpty(e)||e.length<3||this.initMap()}},methods:{thumbup(){this.$emit("provider",this.latLng),this.submitForm()},thumbdown(){this.container="Drag To New Location"},initMap(){const e=this.$refs.googleMap;this.map=ut(e,this.mapConfig),this.map!=null?this.placesService(this.searchValue,this.googleSessionToken):console.log("problem with initMap, googlemaploader.vue")},placesService(e,s){if(e!=null&&s!=null){const o=new google.maps.places.PlacesService(this.map),n={placeId:e,sessionToken:s,fields:["address_component","formatted_address","geometry","name","place_id","type","url"]};o.getDetails(n,async(d,c)=>{if(c!="OK"||!d)throw console.log("problem with service.getDetails, googlemaploader.vue"),new Error(c);this.placesServiceresults=d,this.geocodeUsed||this.Marker()})}else console.log("place_id, googleSessionToken empty placeService, googlemaploader.vue")},geocodelatLng(){new google.maps.Geocoder().geocode({location:this.latLng},async(s,o)=>{if(o!="OK"||!s)throw console.log("problem with service.geocode, googlemaploader.vue"),new Error(o);const n=s[1].place_id,d=await new google.maps.places.AutocompleteSessionToken;this.geocodeUsed=!0,this.container="Correct Location",this.placesService(n,d)})},Marker(){const e=this.$refs.infocontentString,s=new google.maps.InfoWindow({content:e}),o=JSON.parse(JSON.stringify(this.placesServiceresults));this.latLng=o.geometry.location,this.placesServiceresults=o;const n=this.images[this.index];this.index=(this.index+1)%this.images.length;const d=new google.maps.Marker({position:this.latLng,map:this.map,icon:n.src,draggable:!0,title:"Click/Drag Me",animation:google.maps.Animation.DROP});google.maps.event.addListener(this.map,"click",()=>{s!=null&&s.close()}),google.maps.event.addListener(d,"click",()=>{s!=null&&s.close(),this.infoContent=!0,s.open(this.map,d)}),google.maps.event.addListener(d,"dragend",()=>{s!=null&&s.close(),this.latLng=d.getPosition(),this.geocodelatLng(),s.open(this.map,d),this.map.setCenter(d.position)}),google.maps.event.trigger(d,"click"),this.$emit("toLoc",this.latLng),this.map.setCenter(d.position)},async submitForm(){const e=JSON.parse(JSON.stringify(this.placesServiceresults));try{const{ipDetails:s,org:o}=await yt(),n=await ft(e,s,o)}catch(s){if(s.response)for(const o in s.response.data)this.errors.push(`${o}: ${s.response.data[o]}`);else s.message&&this.errors.push("Something went wrong. Please try again!")}}}}),bt=e=>(N("data-v-788fe2d8"),e=e(),z(),e),wt={id:"myDIV",class:"google-map",ref:"googleMap"},St={tabindex:"1",ref:"infocontentString"},kt={class:"container"},Ct={class:"tabbar tab-style1 pt-2 text-base font-medium text-gray-50 text-center"},xt={class:"flex-center"},$t={id:"down"},Pt={class:"help active"},Tt={id:"up"},Lt=bt(()=>t("li",{class:"follow"},"\xA0",-1));function Mt(e,s,o,n,d,c){const i=y("XIcon"),r=y("QuestionMarkCircleIcon"),h=y("CheckIcon");return a(),l("div",wt,[f(t("div",St,[t("div",kt,[t("div",Ct,[M(u(e.container)+" ",1),t("ul",xt,[t("button",{onClick:s[0]||(s[0]=(...T)=>e.thumbdown&&e.thumbdown(...T))},[t("li",$t,[t("i",null,[x(i,{class:"fill-red-700 w-6 h-6"})])])]),t("li",Pt,[t("i",null,[x(r,{class:"fill-gray-500 w-6 h-6"})])]),t("button",{onClick:s[1]||(s[1]=(...T)=>e.thumbup&&e.thumbup(...T))},[t("li",Tt,[t("i",null,[x(h,{class:"fill-green-500 w-7 h-7"})])])]),Lt])])])],512),[[R,e.infoContent]])],512)}var At=k(_t,[["render",Mt],["__scopeId","data-v-788fe2d8"]]);const It=C({mounted(){this.test=!1;var e=this.$el.querySelector(".toggle");e.addEventListener("click",this.onToggleClick),setTimeout(()=>this.speeds=["All","10 Mbps","20 Mbps","50 Mbps","100 Mbps","200 Mbps","300 Mbps","500 Mbps","1000 Mbps","1000 Mbps +"]),setTimeout(()=>this.terms=["All","1 Month","12 Month","24 Month","36 Month","48 Month","60 Month"])},components:{FormWizard:Pe,TabContent:Te},emits:["serviceOptions"],props:{prodAvail:Object,amount:{type:Number,default:0},selected:{type:Number,default:0}},data(){return{test:!1,subtest:!1,step:1,currency:"R",selectedServices:[],selectedSpeed:"Select Option",selectedTerm:"Select Option",selectedSupplier:"Select Option",selectedServiceType:"Select Option",selectedCost:0,selectedCostDiscount:0,selectedSpecial:0,selectedRouter:null,selectedVoiceVLAN:null,speeds:null,terms:null,fullName:"",companyName:null,referral:null}},computed:{stepperProgress(){return 100/2*(this.step-1)+"%"},getUniqueServiceType(){let e=[];return this.selectedServiceType="Select Option",this.selectedSupplier!="Select Option"?(e=p.filter(this.selectedServices,{supplierName:this.selectedSupplier}),console.log(e),e=p.sortBy(e,"productType"),e=p.uniqBy(e,"productType"),e):(e=p.sortBy(this.selectedServices,"productType"),e=p.uniqBy(this.selectedServices,"productType"),e)},getUniqueTerm(){let e=[];if(this.selectedTerm="Select Option",this.selectedServiceType!="Select Option"&&this.selectedSupplier!="Select Option")return e=p.filter(this.selectedServices,{supplierName:this.selectedSupplier,productType:this.selectedServiceType}),console.log(e),e=p.uniqBy(e,"contractPeriod"),e=p.sortBy(e,"contractPeriod"),e;if(this.selectedServiceType!="Select Option")return e=p.filter(this.selectedServices,{productType:this.selectedServiceType}),console.log(e),e=p.uniqBy(e,"contractPeriod"),e=p.sortBy(e,"contractPeriod"),e;if(this.selectedSupplier!="Select Option")return e=p.filter(this.selectedServices,{supplierName:this.selectedSupplier}),console.log(e),e=p.uniqBy(e,"contractPeriod"),e=p.sortBy(e,"contractPeriod"),e},getUniqueSpeed(){let e=[];if(this.selectedSpeed="Select Option",this.selectedServiceType!="Select Option"&&this.selectedSupplier!="Select Option")return e=p.filter(this.selectedServices,{supplierName:this.selectedSupplier,productType:this.selectedServiceType,contractPeriod:this.selectedTerm}),console.log(e),e=p.uniqBy(e,"capacity"),e=p.sortBy(e,"capacity"),e;if(this.selectedServiceType!="Select Option")return e=p.filter(this.selectedServices,{productType:this.selectedServiceType,contractPeriod:this.selectedTerm}),console.log(e),e=p.uniqBy(e,"capacity"),e=p.sortBy(e,"capacity"),e;if(this.selectedSupplier!="Select Option")return e=p.filter(this.selectedServices,{supplierName:this.selectedSupplier,contractPeriod:this.selectedTerm}),console.log(e),e=p.uniqBy(e,"capacity"),e=p.sortBy(e,"capacity"),e},getUniqueSupplier(){let e=[];return this.selectedSupplier="Select Option",e=p.sortBy(this.selectedServices,"supplierName"),e=p.uniqBy(this.selectedServices,"supplierName"),e},getPrice(){let e=[];if(this.selectedServiceType!="Select Option"&&this.selectedSupplier!="Select Option")return e=p.filter(this.selectedServices,{supplierName:this.selectedSupplier,productType:this.selectedServiceType,contractPeriod:this.selectedTerm,capacity:this.selectedSpeed}),console.log(e),e=p.uniqBy(e,"MRC"),e=p.sortBy(e,"MRC"),e;if(this.selectedServiceType!="Select Option")return e=p.filter(this.selectedServices,{productType:this.selectedServiceType,contractPeriod:this.selectedTerm,capacity:this.selectedSpeed}),console.log(e),e=p.uniqBy(e,"MRC"),e=p.sortBy(e,"MRC"),e;if(this.selectedSupplier!="Select Option")return e=p.filter(this.selectedServices,{supplierName:this.selectedSupplier,contractPeriod:this.selectedTerm,capacity:this.selectedSpeed}),console.log(e),e=p.uniqBy(e,"MRC"),e=p.sortBy(e,"MRC"),e},getPriceDiscount(){let e=[];e=p.filter(this.selectedServices,{productType:this.selectedServiceType,contractPeriod:this.selectedTerm,capacity:this.selectedSpeed,MRC:this.selectedCost});let s=o(e,"rebate");function o(n,d){for(var c=[],i=0;i<n.length;++i)c.push(n[i][d]);return c}return p.subtract(this.selectedCost,s[0]),e}},watch:{},created(){},methods:{onComplete(){alert("working")},async onProviderClick(e){let s=e.currentTarget;if(console.log(s.id),s.id=="Fibre (Active Ethernet)"){console.log("fibre"),this.subtest=!0;const o=s.id;this.$emit("serviceOptions",this.subtest,o)}if(s.id=="Microwave (Point-to-Multipoint)"){console.log("wireless"),this.subtest=!0;const o=s.id;this.$emit("serviceOptions",this.subtest,o)}if(s.id=="LTE"){console.log("LTE"),this.subtest=!0;const o=s.id;this.$emit("serviceOptions",this.subtest,o)}if(s.id=="Fibre (GPON / FttX)"){console.log("GPON"),this.subtest=!0;const o=s.id;this.$emit("serviceOptions",this.subtest,o)}},async onToggleClick(){const e=Math.abs(this.amount)*-1;document.documentElement.style.setProperty("--transform-amount",this.amount+""),document.documentElement.style.setProperty("--transform-les-amount",e+"");const s=this.$el.querySelector(".menu");s==null||s.classList.toggle("active"),this.$el.querySelectorAll("li").forEach(n=>n.addEventListener("click",this.onProviderClick))}}}),w=e=>(N("data-v-3a195d12"),e=e(),z(),e),Bt={class:"backview"},Nt={class:"menu"},zt=w(()=>t("div",{class:"toggle"},[t("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",class:"w-6 h-6"},[t("path",{d:"M18.75 12.75h1.5a.75.75 0 000-1.5h-1.5a.75.75 0 000 1.5zM12 6a.75.75 0 01.75-.75h7.5a.75.75 0 010 1.5h-7.5A.75.75 0 0112 6zM12 18a.75.75 0 01.75-.75h7.5a.75.75 0 010 1.5h-7.5A.75.75 0 0112 18zM3.75 6.75h1.5a.75.75 0 100-1.5h-1.5a.75.75 0 000 1.5zM5.25 18.75h-1.5a.75.75 0 010-1.5h1.5a.75.75 0 010 1.5zM3 12a.75.75 0 01.75-.75h7.5a.75.75 0 010 1.5h-7.5A.75.75 0 013 12zM9 3.75a2.25 2.25 0 100 4.5 2.25 2.25 0 000-4.5zM12.75 12a2.25 2.25 0 114.5 0 2.25 2.25 0 01-4.5 0zM9 15.75a2.25 2.25 0 100 4.5 2.25 2.25 0 000-4.5z"})])],-1)),Ot=w(()=>t("a",{href:"#"},[t("img",{src:"https://res.cloudinary.com/vidmax/image/upload/v1666596643/icons8-cable-100_hu48qi.png",class:"w-7 h-7"})],-1)),Vt=w(()=>t("p",{class:"font-semibold text-xs img__description"},"Fiber",-1)),Rt=[Ot,Vt],qt=w(()=>t("a",{href:"#"},[t("img",{src:"https://res.cloudinary.com/vidmax/image/upload/v1666344648/icons8-radio-tower-100_hwvfgt.png",class:"w-7 h-7"})],-1)),Et=w(()=>t("p",{class:"font-semibold text-xs img__description"},"Wireless",-1)),Ft=[qt,Et],Dt=w(()=>t("a",{href:"#"},[t("img",{src:"https://res.cloudinary.com/vidmax/image/upload/v1666344648/icons8-sim-card-100_im4tja.png",class:"w-7 h-7"})],-1)),Ut=w(()=>t("p",{class:"font-semibold text-xs img__description"},"LTE/5G",-1)),jt=[Dt,Ut],Gt=w(()=>t("a",{href:"#"},[t("img",{src:"https://res.cloudinary.com/vidmax/image/upload/v1666596643/icons8-cable-100_hu48qi.png",class:"w-7 h-7"})],-1)),Kt=w(()=>t("p",{class:"font-semibold text-xs img__description"},"GPON/FttX",-1)),Wt=[Gt,Kt],Ht={class:"wrapper-stepper"},Zt={class:"stepper"},Xt={class:"form-group"},Jt={role:"list",class:"grid grid-cols-2 my-2 space-y-2"},Qt=w(()=>t("li",{class:"flex space-x-3"},[t("span",{class:"mt-5 text-base font-medium leading-tight text-gray-500 dark:text-gray-400"},"Preferred Supplier")],-1)),Yt={class:"flex space-x-3"},es=w(()=>t("option",{selected:""},"Select Option",-1)),ts=["value"],ss=w(()=>t("li",{class:"flex space-x-3"},[t("span",{class:"mt-5 text-base font-medium leading-tight text-gray-500 dark:text-gray-400"},"Service Type")],-1)),os={class:"flex space-x-3"},is=w(()=>t("option",{selected:""},"Select Option",-1)),rs=["value"],as=w(()=>t("li",{class:"flex space-x-3"},[t("span",{class:"mt-5 text-base font-medium leading-tight text-gray-500 dark:text-gray-400"},"Contract Term")],-1)),ns={class:"flex space-x-3"},ls=w(()=>t("option",{selected:""},"Select Option",-1)),ds=["value"],cs=w(()=>t("li",{class:"flex space-x-3"},[t("span",{class:"mt-5 text-base font-medium leading-tight text-gray-500 dark:text-gray-400"},"Link Speed")],-1)),ps={class:"flex space-x-3"},us=w(()=>t("option",{selected:""},"Select Option",-1)),hs=["value"],ms=w(()=>t("li",{class:"flex space-x-3"},[t("span",{class:"mt-5 text-base font-medium leading-tight text-gray-500 dark:text-gray-400"},"Monthly Cost")],-1)),vs={class:"flex space-x-3"},gs=["value"],fs=w(()=>t("li",{class:"flex space-x-3"},[t("span",{class:"mt-5 text-base font-medium leading-tight text-gray-500 dark:text-gray-400"},"Discount - Today Only")],-1)),ys={class:"flex space-x-3"},_s={class:"mt-5 text-base font-medium leading-tight text-gray-500 dark:text-gray-400"},bs=w(()=>t("div",{class:"form-group m5 rounded border-top border border-b",id:"selection"},[t("a",{href:"#",class:"card m-auto my-3 border-2"},[t("div",{class:"row g-0"},[t("div",{class:"col-md-4"},[t("img",{src:"https://res.cloudinary.com/vidmax/image/upload/c_scale,h_64/v1666344648/icons8-remote-working-100_q7outr.png"})]),t("div",{class:"col-md-8"},[t("div",{class:"card-body"},[t("h5",{class:"card-title border-b border mb-2 pb-2"}),t("p",{class:"card-text cardtext"},"Thiuking abiyt changhing service typoes"),t("button",{type:"submit",id:"service1-selected",class:"btn btn-outline-primary btn-block"},"Select")])])])])],-1)),ws={class:"form-group"},Ss=w(()=>t("label",{for:"companyName"},"Company Name",-1)),ks={class:"form-group"},Cs=w(()=>t("label",{for:"fullName"},"Full Name",-1)),xs=w(()=>t("label",{for:"referral"},"Email Address",-1));function $s(e,s,o,n,d,c){const i=y("TabContent"),r=y("FormWizard");return a(),l("div",Bt,[f(t("div",Nt,[zt,(a(!0),l(g,null,b(e.prodAvail,(h,T)=>(a(),l("ul",{key:T},[h.product==="Fibre (Active Ethernet)"?(a(),l("li",{key:0,class:"img__wrap",id:"Fibre (Active Ethernet)",style:S(`--i:${T}`)},Rt,4)):m("",!0),h.product==="Microwave (Point-to-Multipoint)"?(a(),l("li",{key:1,class:"img__wrap",id:"Microwave (Point-to-Multipoint)",style:S(`--i:${T}`)},Ft,4)):m("",!0),h.product==="LTE"?(a(),l("li",{key:2,class:"img__wrap",id:"LTE",style:S(`--i:${T}`)},jt,4)):m("",!0),h.product==="Fibre (GPON / FttX)"?(a(),l("li",{key:3,class:"img__wrap",id:"Fibre (GPON / FttX)",style:S(`--i:${T}`)},Wt,4)):m("",!0)]))),128))],512),[[R,!e.test]]),f(t("div",Ht,[t("div",Zt,[x(r,{color:"#ed2590",onOnComplete:e.onComplete},{default:G(()=>[x(i,{title:"Supplier",customIcon:"<img src='https://img.icons8.com/sf-regular-filled/96/FFFFFF/shopping-cart.png' width='40px' />"},{default:G(()=>[t("div",Xt,[t("ul",Jt,[Qt,t("li",Yt,[f(t("select",{"onUpdate:modelValue":s[0]||(s[0]=h=>e.selectedSupplier=h)},[es,(a(!0),l(g,null,b(e.getUniqueSupplier,h=>(a(),l("option",{value:h.supplierName},u(h.supplierName),9,ts))),256))],512),[[E,e.selectedSupplier]])]),ss,t("li",os,[f(t("select",{"onUpdate:modelValue":s[1]||(s[1]=h=>e.selectedServiceType=h)},[is,(a(!0),l(g,null,b(e.getUniqueServiceType,h=>(a(),l("option",{value:h.productType},u(h.productType),9,rs))),256))],512),[[E,e.selectedServiceType]])]),as,t("li",ns,[f(t("select",{"onUpdate:modelValue":s[2]||(s[2]=h=>e.selectedTerm=h)},[ls,(a(!0),l(g,null,b(e.getUniqueTerm,h=>(a(),l("option",{value:h.contractPeriod},u(h.contractPeriod),9,ds))),256))],512),[[E,e.selectedTerm]])]),cs,t("li",ps,[f(t("select",{"onUpdate:modelValue":s[3]||(s[3]=h=>e.selectedSpeed=h)},[us,(a(!0),l(g,null,b(e.getUniqueSpeed,h=>(a(),l("option",{value:h.capacity},u(h.capacity)+" Mbps",9,hs))),256))],512),[[E,e.selectedSpeed]])]),ms,t("li",vs,[f(t("select",{"onUpdate:modelValue":s[4]||(s[4]=h=>e.selectedCost=h)},[(a(!0),l(g,null,b(e.getPrice,h=>(a(),l("option",{value:h.MRC},u(e.currency)+" "+u(h.MRC),9,gs))),256))],512),[[E,e.selectedCost]])]),fs,(a(!0),l(g,null,b(e.getPriceDiscount,h=>(a(),l("li",ys,[t("span",_s,"- "+u(e.currency)+" "+u(h.rebate),1)]))),256))])])]),_:1}),x(i,{title:"Service Selection",customIcon:"<img src='https://img.icons8.com/ios-filled/100/FFFFFF/add-tag.png' width='40px' />"},{default:G(()=>[bs]),_:1}),x(i,{title:"Extra1",customIcon:"<img src='https://img.icons8.com/ios-filled/100/FFFFFF/add-tag.png' width='40px' />"},{default:G(()=>[t("div",ws,[Ss,f(t("input",{type:"text",class:"form-control",placeholder:"name?","onUpdate:modelValue":s[5]||(s[5]=h=>e.companyName=h)},null,512),[[O,e.companyName]])])]),_:1}),x(i,{title:"Finishing Up",customIcon:"<img src='https://img.icons8.com/material/48/FFFFFF/filled-sent.png' width='40px' />"},{default:G(()=>[t("div",ks,[Cs,f(t("input",{type:"text",class:"form-control",placeholder:"Enter your name","onUpdate:modelValue":s[6]||(s[6]=h=>e.fullName=h)},null,512),[[O,e.fullName]]),xs,f(t("input",{type:"text",class:"form-control",placeholder:"Enter your email","onUpdate:modelValue":s[7]||(s[7]=h=>e.referral=h)},null,512),[[O,e.referral]])])]),_:1})]),_:1},8,["onOnComplete"])])],512),[[R,e.test]])])}var Ps=k(It,[["render",$s],["__scopeId","data-v-3a195d12"]]);const Ts=C({props:{text:{required:!1,type:String,default:"Fetching Results"},imageref:{required:!1,type:String,default:""},marketing:{required:!1,type:Boolean,default:!1},ad_delay:{type:Boolean},apiResults:{type:Boolean},roller:{required:!1,type:Boolean,default:!1},dots:{required:!1,type:Boolean,default:!1}},emits:["stepSpinner"],data(){return{startTime:0,quoteToDisplay:[],quoteToDisplayString:"",quoteString:"We have the best FTTH prices, starting from R 399",quotesList:[],contact:!1,isQuotePlaying:!1,quoteTypingAnimationDelay:100,showBlinking:!1,blinkingAnimationDelay:300}},mounted(){this.startTime=performance.now()},created(){this.playQuote()},watch:{ad_delay(e){if(this.startTime||e){const s=performance.now(),o=(s-this.startTime)/1e3,n=Math.max(0,15-o)*1e3;console.log(`Time taken: ${(s-this.startTime)/1e3} seconds`),console.log(`Time delay: ${n/1e3} seconds`),this.countdown(n),this.sleep(n).then(()=>{console.log("delay completed")})}},apiResults(e){e&&(this.contact=!0)}},methods:{sleep(e){return new Promise(s=>setTimeout(s,e))},openNewWindow(){window.open("https://www.pindrop.co.za","Pindrop")},countdown(e){const s=document.querySelector(".skip-button-container"),o=document.querySelector(".ad-button-container"),n=o==null?void 0:o.querySelector(".ad-button-time-remaining"),d=s==null?void 0:s.querySelector(".skip-button-ad");let c=Math.ceil(e/1e3+4);console.log(`Time delay: ${c} adjust`),n.textContent=`Ad: ${c.toString().padStart(2,"0")}`;const i=setInterval(()=>{switch(c--,n.textContent=`Ad: ${c.toString().padStart(2,"0")}`,c){case 10:o.style.display="none",s.style.display="block";break;case 5:o.style.display="none",s.style.display="block";break;case 0:clearInterval(i),o.style.display="none",this.$emit("stepSpinner",this.contact);break}},1e3);d==null||d.addEventListener("click",()=>{clearInterval(i),this.$emit("stepSpinner",this.contact)})},async playQuote(){if(!this.isQuotePlaying){this.quoteToDisplay=[],this.quoteToDisplayString="",this.quotesList=this.quoteString.split(""),this.isQuotePlaying=!0;for(let e=0;e<this.quotesList.length;e++)await this.sleep(this.quoteTypingAnimationDelay),this.quoteToDisplay.push(this.quotesList[e]),this.quoteToDisplayString=this.quoteToDisplay.join(""),e===this.quotesList.length-1&&(this.isQuotePlaying=!1)}}}}),ce=e=>(N("data-v-8b7d4c1e"),e=e(),z(),e),Ls={key:0,class:"loading-box"},Ms=ce(()=>t("div",{class:"lds-roller"},[t("div"),t("div"),t("div"),t("div"),t("div"),t("div"),t("div"),t("div")],-1)),As={key:1,class:"loading-box"},Is=A('<div class="dots" data-v-8b7d4c1e><div class="dot" data-v-8b7d4c1e></div><div class="dot" data-v-8b7d4c1e></div><div class="dot" data-v-8b7d4c1e></div><div class="dot" data-v-8b7d4c1e></div><div class="dot" data-v-8b7d4c1e></div></div>',1),Bs={key:2,class:"marketing-box"},Ns={class:"marketing-add-player"},zs={class:"marketing-container"},Os=["src"],Vs={class:"ad-player-overlay"},Rs={class:"ad-player-overlay-body"},qs=A('<div class="ad-image" data-v-8b7d4c1e><img src="https://yt3.ggpht.com/ytc/AGIKgqN82wFFhWo4tubfd_tGbbkbmz_ZSec7uKuX4kEGgg=s176-c-k-c0x00ffffff-no-rj" alt="Ad Image" data-v-8b7d4c1e></div><div class="ad-body" data-v-8b7d4c1e><div class="ad-container" data-v-8b7d4c1e><div class="ad-title" data-v-8b7d4c1e>AI eBooks</div><div class="ad-link" data-v-8b7d4c1e>designrr.io/Start/Today</div></div></div>',2),Es={class:"ad-button"},Fs=ce(()=>t("div",{class:"ad-button-container"},[t("div",{class:"ad-button-timer"},[t("div",{class:"ad-button-time-remaining"})])],-1)),Ds=A('<div data-v-8b7d4c1e><span class="skip-button-container" data-v-8b7d4c1e><button class="skip-button-ad" data-v-8b7d4c1e><div class="skip-button-text" data-v-8b7d4c1e>Skip Ad <span class="skip-button-icon" data-v-8b7d4c1e><svg height="100%" viewBox="0 0 36 36" width="100%" data-v-8b7d4c1e><path d="M 12,24 20.5,18 12, 12 V24 z M 22,12 v 12 h 2 V 12 h -2 z" data-v-8b7d4c1e></path></svg></span></div></button></span></div>',1);function Us(e,s,o,n,d,c){return a(),l(g,null,[e.roller?(a(),l("div",Ls,[Ms,t("div",null,u(e.text),1)])):m("",!0),e.dots?(a(),l("div",As,[Is,t("div",null,u(e.text),1)])):m("",!0),e.marketing?(a(),l("div",Bs,[t("div",Ns,[t("div",zs,[t("img",{src:`${e.imageref}`},null,8,Os)]),t("div",Vs,[t("div",Rs,[qs,t("div",Es,[t("button",{onClick:s[0]||(s[0]=(...i)=>e.openNewWindow&&e.openNewWindow(...i))},"Learn More")])]),Fs]),Ds])])):m("",!0)],64)}var js=k(Ts,[["render",Us],["__scopeId","data-v-8b7d4c1e"]]);const Gs=C({async mounted(){const e=["step1","step2","step3","step4"];this.stepBtns=e.map(o=>this.$refs[o]),console.log(this.stepBtns,"stepBtns");const s=["subscription-form-wrapper1","subscription-form-wrapper2","subscription-form-wrapper3","subscription-form-wrapper4"];if(this.formSteps=s.map(o=>this.$refs[o]),console.log(this.formSteps,"formSteps"),this.edit=this.$refs.subscriptionorderoverview,console.log(this.edit,"edit"),this.toggle=this.$refs.edit,console.log(this.toggle,"toggle"),this.buy=document.querySelector(".buy"),console.log(this.buy,"buy"),this.buybottom=document.querySelector(".bottom"),console.log(this.buybottom,"buybottom"),this.buyremove=document.querySelector(".remove"),console.log(this.buyremove,"buyremove"),this.toggle.addEventListener("click",this.morph_animation),this.stepBtns.length!=null)for(let o=0;o<this.stepBtns.length;o++)this.stepBtns[o].addEventListener("click",()=>{this.formStepsNum=o,this.updateFormSteps()});this.getOnlySelectedService()},props:{apiResults:Object,serviceChoice:String},components:{VueSlider:Le},setup(){return{}},data(){return{abc:!1,formStepsNum:0,formSteps:[],stepBtns:[],toggle:[],edit:[],buy:[],buybottom:[],buyremove:[],disablehover:[],sliderAmount:void 0,slidesPerView:1,basketItems:[],counterCheckoutItems:0,currency:"R",selectedServices:[],ServicesType:"",selectedServiceType:"Select Option",selectedSupplier:"Select Option",selectedSpeed:"Select Option",selectedTerm:"Term",selectedPrice:0,slideKey:0,initialSlide:0,thumbsSwiper:null,thumbsize:0,screenwidth:{},internet:!0,transit:!1,ip:!0,slider:{data:[]},providerCardTextColor:{comsol:"#a6a4a6",openserve:"#fff",mtn:"#4B5563",liquidtelecom:"#fff",frogfoot:"#0b2c48",bitco:"#fff",wiocc:"#fff",easyweb:"#fff",meshtelecom:"#fff",dfa:"#fff",linkafrica:"#fff",seacom:"#fff",telkom:"#fff",vodacom:"#fff",metrofibrenetworx:"#0c1c24",vumatelbusiness:"#fff",mtnbusiness:"#0a0804",mapchi:"#fff",metrofibrenetworxftth:"#0c1c24",openserveftth:"#fff"},providerCardColor:{comsol:"#23337b",openserve:"#16b251",mtn:"#fbc404",liquidtelecom:"#ca1c7c",frogfoot:"#2db653",bitco:"#2b3c8a",wiocc:"#23348c",easyweb:"#72acde",meshtelecom:"#a62129",dfa:"#00b500",linkafrica:"#624d89",seacom:"#356692",telkom:"#0884c4",vodacom:"#ec3424",metrofibrenetworx:"#f4561b",vumatelbusiness:"#ee008c",mtnbusiness:"#fbc404",mapchi:"#db2777",metrofibrenetworxftth:"#f4561b",openserveftth:"#16b251"},providers:{comsol:"https://res.cloudinary.com/vidmax/image/upload/w_1000,ar_16:9,c_fill,g_auto,e_sharpen/v1680008344/Comsol_copy_cszlnm.png",openserve:"https://res.cloudinary.com/vidmax/image/upload/v1669896703/openserve_qowcq7.png",mtn:"https://res.cloudinary.com/vidmax/image/upload/v1677580086/MTN_cvpvr6.png",liquidtelecom:"https://res.cloudinary.com/vidmax/image/upload/v1676882911/Liquid-Intelligent-Technologies_lhxj4p.png",frogfoot:"https://res.cloudinary.com/vidmax/image/upload/v1680005576/Frogfoot-Logo_ftq44m.svg",bitco:"https://res.cloudinary.com/vidmax/image/upload/v16780005040/Logo-Telecoms_httyjc.svg",wiocc:"https://res.cloudinary.com/vidmax/image/upload/v1677578293/wiocc_rn5zkv.png",easyweb:"https://res.cloudinary.com/vidmax/image/upload/v1677578424/Easyweb_qrmxmy.png",meshtelecom:"https://res.cloudinary.com/vidmax/image/upload/v1680008724/Mesh_logo_efpqrm.svg",dfa:"https://res.cloudinary.com/vidmax/image/upload/v1677579461/DFA_g58cqg.png",linkafrica:"https://linkafrica.co.za/wp-content/uploads/2023/01/logo-op.svg",seacom:"https://res.cloudinary.com/vidmax/image/upload/v1680000958/mapchi-providers/seacom.jpg",telkom:"https://res.cloudinary.com/vidmax/image/upload/v1680001038/mapchi-providers/telkom.jpg",vodacom:"https://res.cloudinary.com/vidmax/image/upload/v1680001059/mapchi-providers/vodacom.jpg",metrofibrenetworx:"https://res.cloudinary.com/vidmax/image/upload/v1680004878/mfn-logo-new_ofwuxq.svg",vumatelbusiness:"https://res.cloudinary.com/vidmax/image/upload/v1680010757/vuma-logo-pink.946d949b_lzhldp.svg",mapchi:"https://res.cloudinary.com/vidmax/image/upload/w_1000,ar_16:9,c_fill,g_auto,e_sharpen/v1679986328/mapchi-color_kt1acw.png",mtnbusiness:"https://res.cloudinary.com/vidmax/image/upload/v1677580086/MTN_cvpvr6.png",metrofibrenetworxftth:"https://res.cloudinary.com/vidmax/image/upload/v1680004878/mfn-logo-new_ofwuxq.svg",openserveftth:"https://res.cloudinary.com/vidmax/image/upload/v1669896703/openserve_qowcq7.png"},providerCardIconColor:"#fff",providerCardIconColorBackground:"#92879B"}},created(){window.addEventListener("resize",()=>{this.screenwidth=window.innerWidth})},watch:{selectedSpeed(){console.log(this.selectedSpeed)}},computed:{isMobile(){return this.screenwidth<480},total(){return this.basketItems.reduce((e,s)=>e+s.total,0)},test(){return!0},getproviderCardTextColor(){return e=>this.providerCardTextColor[e.toLowerCase().replace(/\s/g,"")]||this.providerCardTextColor.mapchi},getproviderBgColor(){return e=>this.providerCardColor[e.toLowerCase().replace(/\s/g,"")]||this.providerCardColor.mapchi},getproviderCardBg(){return e=>`url(${this.providers[e.toLowerCase().replace(/\s/g,"")]||this.providers.mapchi})`},getproviderThumbLogo(){return e=>this.providers[e.toLowerCase().replace(/\s/g,"")]||this.providers.mapchi},getUniqueServiceType(){let e=[];return this.selectedSupplier!="Select Option"?(e=p.filter(this.selectedServices,{supplierName:this.selectedSupplier}),console.log(e),e=p.sortBy(e,"productType"),e=p.uniqBy(e,"productType"),e):(e=p.sortBy(this.selectedServices,"productType"),e=p.uniqBy(this.selectedServices,"productType"),console.log(e),e)},getUniqueTerm(){let e=[];switch(this.selectedServiceType){case"Term":return e;case"Layer2":e=p.filter(this.selectedServices,{productType:this.selectedServiceType});break;default:const s=p.filter(this.selectedServices,{productType:"Layer3 - Guaranteed Services (SLA)"}),o=p.filter(this.selectedServices,{productType:"Layer3 - Best Effort Services (No SLA)"});e=p.concat(s,o);break}return e=p(e).sortBy("contractPeriod").map("contractPeriod").uniq().value(),e!=null&&(e.length>=2?(this.selectedTerm="",this.selectedTerm=e[1]):(this.selectedTerm="",this.selectedTerm=e[0])),e},getUniqueSpeed(){let e=[],s=[],o=[],n="Layer3 - Guaranteed Services (SLA)",d="Layer3 - Best Effort Services (No SLA)";if(this.selectedSpeed="Select Option",this.selectedServiceType!=="Select Option")switch(this.selectedServiceType){case"Layer2":e=p.filter(this.selectedServices,{productType:this.selectedServiceType,contractPeriod:this.selectedTerm}),e=p.uniqBy(e,"capacity"),e=p.sortBy(e,"capacity");break;default:s=p.filter(this.selectedServices,{productType:n,contractPeriod:this.selectedTerm}),o=p.filter(this.selectedServices,{productType:d,contractPeriod:this.selectedTerm}),e=p.concat(s,o),e=p.sortBy(e,"capacity"),e=p.uniqBy(e,"capacity");break}return e},getPrice(){let e=[],s=[],o=[],n="Layer3 - Guaranteed Services (SLA)",d="Layer3 - Best Effort Services (No SLA)";if(console.log(this.selectedPrice,"selected Price"),this.selectedPrice=0,this.selectedServiceType!="Select Option"){switch(this.selectedServiceType){case"Layer2":e=p.filter(this.selectedServices,{productType:this.selectedServiceType,contractPeriod:this.selectedTerm,capacity:this.selectedSpeed}),e=p.uniqBy(e,"supplierName"),e=p.sortBy(e,"MRC"),console.log(e,"Price");break;default:s=p.filter(this.selectedServices,{productType:n,contractPeriod:this.selectedTerm,capacity:this.selectedSpeed}),o=p.filter(this.selectedServices,{productType:d,contractPeriod:this.selectedTerm,capacity:this.selectedSpeed}),e=p.concat(s,o),e=p.uniqBy(e,"supplierName"),e=p.sortBy(e,"MRC"),console.log(e,"contractPeriod");break}switch(this.test,e.length){case 1:this.slidesPerView=e.length,this.thumbsize=80;break;case 2:this.slidesPerView=e.length,this.thumbsize=61;break;case 3:this.slidesPerView=e.length,this.thumbsize=41;break;case 4:this.slidesPerView=e.length,this.thumbsize=21;break;default:this.slidesPerView=Math.min(4,e.length),this.thumbsize=e.length>4?21:0;break}this.resetSlides()}return e}},methods:{addItemToBasket(e){console.log(`Adding ${e.supplierName} to the shopping basket...`);let s="Layer3 - Guaranteed Services (SLA)",o="Layer3 - Best Effort Services (No SLA)";console.log(e.productType),e.productType===s?this.ServicesType="Internet":e.productType===o?this.ServicesType="Internet":this.ServicesType=e.productType,console.log(e);const n=this.basketItems.findIndex(c=>c.supplierName===e.supplierName&&c.MRC===e.MRC),d=this.basketItems.length;n>=0?console.log("this item has already been added!"):d>2?console.log("Pls remove an item, no more than 3 items allowed"):(this.counterCheckoutItems=d+1,this.basketItems.push({supplierName:e.supplierName,capacity:e.capacity,product:e.product,productType:this.ServicesType,contractPeriod:e.contractPeriod,NRC:e.NRC,MRC:e.MRC,quantity:1,total:e.MRC}))},checkoutItems(){this.formStepsNum=3,this.updateFormSteps()},removeItemFromBasket(e){const s=this.basketItems.indexOf(e);this.basketItems.splice(s,1),this.counterCheckoutItems=this.basketItems.length},handleSwiperClick(){this.buy=document.querySelector(".buy"),this.buybottom=document.querySelector(".bottom"),this.buyremove=document.querySelector(".remove"),this.buy!=null&&this.buy.addEventListener("click",this.buyitem),this.buyremove!=null&&this.buyremove.addEventListener("click",this.removebuyitem)},resetSlides(){document.documentElement.style.setProperty("--transform-providerCardIconColor",this.providerCardIconColor),document.documentElement.style.setProperty("--transform-providerCardIconColorBackground",this.providerCardIconColorBackground),document.documentElement.style.setProperty("--transform-slide-thumb-size",this.thumbsize+"%")},async updateFormSteps(){this.removeActive(),console.log(this.stepBtns[this.formStepsNum]),this.stepBtns[this.formStepsNum].classList.add("step-active"),this.formSteps[this.formStepsNum].classList.add("subscription-form-wrapper-active");let e=new H(this.$refs.swiper1,{spaceBetween:10,slidesPerView:this.slidesPerView<=4?this.slidesPerView:4,freeMode:!0,watchSlidesProgress:!0,allowTouchMove:!1}),s=new H(this.$refs.swiper2,{modules:[Q,Me,Y],spaceBetween:10,navigation:{nextEl:this.$refs.swiperbuttonnext,prevEl:this.$refs.swiperbuttonprev},thumbs:{swiper:e},on:{slideChange:function(){console.log("Swiper changed");var o=s.activeIndex;console.log(o)}}})},async removeActive(){for(let e=0;e<this.stepBtns.length;e++)this.stepBtns[e].classList.remove("step-active"),this.formSteps[e].classList.remove("subscription-form-wrapper-active"),this.edit.classList.contains("show-subscriptions")&&(this.edit.classList.remove("show-subscriptions"),this.toggle.classList.remove("close-button"),this.toggle.textContent="Edit")},async getOnlySelectedService(){this.selectedServices=[],console.log(this.apiResults),console.log(this.serviceChoice),this.selectedServices=p.filter(this.apiResults,{product:this.serviceChoice})},async morph_animation(){this.toggle!=null&&this.edit!=null&&(this.edit.classList.contains("show-subscriptions")?(this.edit.classList.remove("show-subscriptions"),this.toggle.classList.remove("close-button"),this.toggle.textContent="Edit"):(this.edit.classList.add("show-subscriptions"),this.toggle.classList.add("close-button"),this.toggle.textContent="Close"))},buyitem(){this.buybottom.classList.add("clicked")},removebuyitem(){this.buybottom.classList.remove("clicked")}}}),v=e=>(N("data-v-74718f27"),e=e(),z(),e),Ks={class:"container2 w-full"},Ws={class:"subscription-funnel-wrapper"},Hs={class:"subscription-steps"},Zs={ref:"step1",class:"step step-active pt-1","data-title":"Selection"},Xs=v(()=>t("i",{class:"material-symbols-outlined"},"mouse",-1)),Js=[Xs],Qs={ref:"step2",class:"step pt-1","data-title":"Add-Ons"},Ys=v(()=>t("i",{class:"material-symbols-outlined"},"forms_add_on",-1)),eo=[Ys],to={ref:"step3",class:"step pt-1","data-title":"Details"},so=v(()=>t("i",{class:"material-symbols-outlined"},"settings_account_box",-1)),oo=[so],io={ref:"step4",class:"step pt-1","data-title":"Results"},ro=v(()=>t("i",{class:"material-symbols-outlined"},"send",-1)),ao=[ro],no={ref:"subscription-form-wrapper1",class:"subscription-form-wrapper subscription-form-wrapper-active top-2"},lo={class:"flex gap-2 pt-3"},co={class:"w-60 xs:basis-1/2"},po={class:"flex flex-col xs:border rounded-lg"},uo=v(()=>t("h4",{class:"pl-5 step-heading hidden xs:block"},"Service Type",-1)),ho={class:"flex pt-3 px-1"},mo=v(()=>t("div",{class:"pr-3"},[t("span",{class:"scale-110 text-gray-500 material-symbols-outlined"},"cable")],-1)),vo=v(()=>t("div",{class:"ml-auto w-full pl-1"},[t("label",{for:"internet"},"Internet")],-1)),go=v(()=>t("div",{class:"ml-auto w-full pl-1"},[t("label",{for:"transit"},"Transit")],-1)),fo={class:"basis-1/2 hidden xs:block"},yo={class:"flex flex-col xs:border rounded-lg"},_o=v(()=>t("h4",{class:"pl-5 step-heading"},"Speed (mpbs)",-1)),bo={class:"flex pt-1.5 pb-2 pr-9 px-1"},wo=v(()=>t("div",{class:"pt-1 pr-3"},[t("span",{class:"flex scale-110 text-gray-500 material-symbols-outlined"},"speed")],-1)),So=v(()=>t("option",{selected:""},"Select Option",-1)),ko=["value"],Co={class:"w-50 block xs:hidden pt-3"},xo={class:"flex flex-col xs:border rounded-lg"},$o=v(()=>t("h4",{class:"pl-5 step-heading hidden xs:block"},"Speed (mpbs)",-1)),Po={class:"flex pt-2"},To=v(()=>t("div",{class:"pt-1 pr-3"},[t("span",{class:"scale-110 text-gray-500 material-symbols-outlined"},"speed")],-1)),Lo=v(()=>t("option",{selected:""},"Select Option",-1)),Mo=["value"],Ao={class:"pt-5"},Io={class:"flex flex-col xs:border rounded-lg"},Bo=v(()=>t("h4",{class:"pl-5 step-heading hidden xs:block"},"Term (month)",-1)),No={class:"flex pt-9"},zo=v(()=>t("div",{class:"pr-3"},[t("span",{class:"scale-110 text-gray-500 material-symbols-outlined"},"date_range")],-1)),Oo={class:"ml-auto w-full pr-3 pb-10"},Vo={ref:"subscription-form-wrapper2",class:"subscription-form-wrapper top-2"},Ro=A('<div class="flex gap-2 pt-3" data-v-74718f27><div class="basis-1/2 pt-3" data-v-74718f27><div class="flex flex-col" data-v-74718f27><h4 class="pl-5 step-heading" data-v-74718f27>IP (blocks)</h4><div class="flex pt-2" data-v-74718f27><div class="pt-1 pr-3" data-v-74718f27><span class="scale-110 text-gray-500 material-symbols-outlined" data-v-74718f27>speed</span></div><select class="ml-auto w-full px-2 py-0" data-v-74718f27><option selected data-v-74718f27>IP (blocks)</option><option value="/30" data-v-74718f27>Add /30</option><option value="/29" data-v-74718f27>Add /29</option><option value="/27" data-v-74718f27>Add /27</option><option value="/24" data-v-74718f27>Add /24</option></select></div></div></div></div>',1),qo=[Ro],Eo={ref:"subscription-form-wrapper3",class:"subscription-form-wrapper bg-slate-500"},Fo={class:"swiper-container"},Do={class:"swiper-wrapper"},Uo={class:"wrapper"},jo={class:"container"},Go={class:"top"},Ko={class:"bottom"},Wo={class:"buy"},Ho=["onClick"],Zo={class:"right"},Xo=v(()=>t("div",{class:"done"},[t("i",{class:"material-symbols-outlined"},"done")],-1)),Jo=v(()=>t("div",{class:"details text-lg"},[t("p",null,"Added to your cart")],-1)),Qo={class:"remove"},Yo=["onClick"],ei={class:"inside"},ti=v(()=>t("div",{class:"icon"},[t("i",{class:"scale-150 material-symbols-outlined"},"info")],-1)),si={class:"overview"},oi=v(()=>t("tr",null,[t("th",{class:"text-xs text-gray-500"},"Included:"),t("th",{class:"text-xs text-gray-500"},"Excluded:")],-1)),ii={class:"flex flex-col"},ri={class:"flex"},ai=v(()=>t("span",{class:"pl-2"},"Fast & Unlimited Data",-1)),ni={class:"flex"},li=v(()=>t("span",{class:"material-symbols-outlined"},"router",-1)),di=[li],ci=v(()=>t("span",{class:"pl-2"},"Router included",-1)),pi={class:"flex"},ui=v(()=>t("span",{class:"material-symbols-outlined"},"support_agent",-1)),hi=[ui],mi=v(()=>t("span",{class:"pl-2"},"24/7 Support",-1)),vi={class:"flex"},gi=v(()=>t("span",{class:"material-symbols-outlined"},"hail",-1)),fi=[gi],yi=v(()=>t("span",{class:"pl-2"},"All prices exclude VAT",-1)),_i={class:"flex flex-col"},bi={class:"flex"},wi=v(()=>t("span",{class:"material-symbols-outlined"},"timer",-1)),Si=[wi],ki=v(()=>t("span",{class:"pl-2"},"SLA",-1)),Ci={class:"flex"},xi=v(()=>t("span",{class:"pl-2"},"Static IP",-1)),$i={class:"flex"},Pi=v(()=>t("span",{class:"pl-2"},"Voice VLAN",-1)),Ti={class:"flex"},Li=v(()=>t("span",{class:"pl-2"},"Free Installation",-1)),Mi={ref:"swiperbuttonnext",class:"swiper-button-next"},Ai={ref:"swiperbuttonprev",class:"swiper-button-prev"},Ii={thumbsSlider:"",ref:"swiper1",class:"swiper mySwiper"},Bi={class:"swiper-wrapper"},Ni=["src"],zi={class:"test bg-white rounded-md shadow-lg"},Oi={ref:"subscription-form-wrapper4",class:"subscription-form-wrapper"},Vi=A('<div class="has-account" data-v-74718f27>Already have an account? <span class="highlight" data-v-74718f27>Login</span></div><div class="form" data-v-74718f27><input type="text" name="username" placeholder="Email Address" data-v-74718f27><input type="password" name="password" placeholder="Password" data-v-74718f27></div><div id="terms" class="terms" data-v-74718f27><input type="checkbox" name="vehicle" value="Bike" data-v-74718f27> I agree to the <span class="highlight" data-v-74718f27>Terms &amp; Conditions</span>, <span class="highlight" data-v-74718f27>Community Standards</span> and <span class="highlight" data-v-74718f27>Privacy Policy</span><br data-v-74718f27></div><div class="sign-in" data-v-74718f27><button id="sign-in" data-v-74718f27>SIGN IN</button></div>',4),Ri=[Vi],qi={ref:"subscriptionorderoverview",class:"subscription-order-overview"},Ei={class:"my-1 mx-1"},Fi={class:"flex"},Di={class:"shoppingcart xs:w-3/4 bg-white px-5 py-1"},Ui={class:"flex justify-between border-b pb-2"},ji=v(()=>t("h1",{class:"w-full xs:w-1/3 pt-1 shoppingcardescriptions text-lg"},"Order Summary",-1)),Gi={class:"w-full flex xs:w-1/3 justify-start items-center"},Ki={class:"relative"},Wi={key:0,class:"absolute top-3 left-6 bg-red-500 text-white px-2 py-1 rounded-full text-xs"},Hi=A('<div class="flex mt-1 xs:mt-2 mb-1" data-v-74718f27><h3 class="w-full shoppingcardescriptions text-xs uppercase xs:w-2/5" data-v-74718f27>Details</h3><h3 class="w-full shoppingcardescriptions text-center text-xs uppercase xs:w-1/12" data-v-74718f27>Term</h3><h3 class="w-full shoppingcardescriptions text-center text-xs uppercase xs:w-1/4" data-v-74718f27>Install</h3><h3 class="w-full shoppingcardescriptions text-center text-xs uppercase xs:w-1/4" data-v-74718f27>Monthly</h3><h3 class="font-semibold w-full text-center text-gray-600 text-xs uppercase xs:w-1/12" data-v-74718f27></h3></div>',1),Zi={class:"flex w-full xs:w-2/5"},Xi={class:"w-15 mr-0 xs:mr-2 pt-2 hidden xs:block"},Ji=["src"],Qi={class:"flex flex-col justify-between flex-grow"},Yi={class:"text-gray-600 text-xs xs:text-xs"},er={class:"text-red-500 text-xs xs:text-xs"},tr={class:"text-gray-600 text-xs xs:text-xs"},sr={class:"flex w-full xs:w-1/12 justify-center items-center xs:border-l"},or={class:"text-center text-gray-600 text-xs xs:text-xs"},ir={class:"flex w-full xs:w-1/4 justify-center items-center xs:border-l"},rr={class:"text-center text-gray-600 text-xs xs:text-xs"},ar={class:"flex w-full xs:w-1/4 justify-center items-center xs:border-l"},nr={class:"text-center text-gray-600 text-xs xs:text-xs"},lr={class:"flex w-full xs:w-1/12 justify-center items-center xs:border-l"},dr=["onClick"],cr={class:"flex justify-between border-t pt-2"},pr={class:"pt-1 font-semibold text-gray-600 text-sm"},ur={ref:"edit",class:"edit"},hr={class:"editdisable"};function mr(e,s,o,n,d,c){const i=y("vue-slider");return a(),l("div",Ks,[t("div",Ws,[t("div",Hs,[t("div",Zs,Js,512),t("div",Qs,eo,512),t("div",to,oo,512),t("div",io,ao,512)]),t("div",no,[t("div",lo,[t("div",co,[t("div",po,[uo,t("div",ho,[mo,t("div",null,[f(t("input",{type:"radio","onUpdate:modelValue":s[0]||(s[0]=r=>e.selectedServiceType=r),value:"Layer3 - Best Effort Services (No SLA)",name:"internet"},null,512),[[ie,e.selectedServiceType]])]),vo,t("div",null,[f(t("input",{type:"radio","onUpdate:modelValue":s[1]||(s[1]=r=>e.selectedServiceType=r),value:"Layer2",name:"transit"},null,512),[[ie,e.selectedServiceType]])]),go])])]),t("div",fo,[t("div",yo,[_o,t("div",bo,[wo,f(t("select",{class:"ml-auto w-full px-2 py-0","onUpdate:modelValue":s[2]||(s[2]=r=>e.selectedSpeed=r)},[So,(a(!0),l(g,null,b(e.getUniqueSpeed,r=>(a(),l("option",{value:r.capacity},u(r.capacity)+" Mbps",9,ko))),256))],512),[[E,e.selectedSpeed]])])])])]),t("div",null,[t("div",Co,[t("div",xo,[$o,t("div",Po,[To,f(t("select",{class:"ml-auto w-full px-2 py-0","onUpdate:modelValue":s[3]||(s[3]=r=>e.selectedSpeed=r)},[Lo,(a(!0),l(g,null,b(e.getUniqueSpeed,r=>(a(),l("option",{value:r.capacity},u(r.capacity)+" Mbps",9,Mo))),256))],512),[[E,e.selectedSpeed]])])])])]),t("div",Ao,[t("div",Io,[Bo,t("div",No,[zo,t("div",Oo,[x(i,{modelValue:e.selectedTerm,"onUpdate:modelValue":s[4]||(s[4]=r=>e.selectedTerm=r),included:!0,tooltip:"always",data:e.getUniqueTerm,max:e.sliderAmount,adsorb:!0,marks:!0},null,8,["modelValue","data","max"])])])])])],512),t("div",Vo,qo,512),f(t("div",Eo,[t("div",Fo,[t("div",{ref:"swiper2",class:"swiper mySwiper2",onClick:s[5]||(s[5]=(...r)=>e.handleSwiperClick&&e.handleSwiperClick(...r))},[t("div",Do,[(a(!0),l(g,null,b(e.getPrice,(r,h)=>(a(),l("div",{class:"swiper-slide",key:r.MRC},[t("div",Uo,[t("div",jo,[t("div",Go,[t("div",{class:"package-info",style:S({backgroundColor:e.getproviderBgColor(r.supplierName)})},[t("h3",{class:"package-speed",style:S({color:e.getproviderCardTextColor(r.supplierName)})},[t("span",null,u(r.capacity),1),t("span",{class:"package-speed-indicator",style:S({color:e.getproviderCardTextColor(r.supplierName)})},"Mbps",4)],4),t("h3",{class:"pt-1 text-5xl",style:S({color:e.getproviderCardTextColor(r.supplierName)})},[t("span",{class:"pr-2",style:S({color:e.getproviderCardTextColor(r.supplierName)})},u(e.currency)+u(r.MRC),5),t("span",{class:"price-term",style:S({color:e.getproviderCardTextColor(r.supplierName)})},"x"+u(r.contractPeriod),5)],4),t("h3",{class:"pt-1 text-xs",style:S({color:e.getproviderCardTextColor(r.supplierName)})},[t("span",{class:"pr-2",style:S({color:e.getproviderCardTextColor(r.supplierName)})},"Once-Off",4),t("span",null,u(e.currency)+u(r.NRC),1)],4)],4)]),t("div",Ko,[t("div",{class:"left",style:S({background:e.getproviderCardBg(r.supplierName),backgroundRepeat:"no-repeat",backgroundSize:"32%",backgroundPosition:"calc(80% - 50%) 30%"})},[t("div",Wo,[t("i",{class:"scale-125 material-symbols-outlined",onClick:T=>e.addItemToBasket(r)},"add_shopping_cart",8,Ho)])],4),t("div",Zo,[Xo,Jo,t("div",Qo,[t("i",{class:"material-symbols-outlined",onClick:T=>e.removeItemFromBasket(r)},"clear",8,Yo)])])])]),t("div",ei,[ti,t("div",si,[t("table",null,[oi,t("tr",null,[t("th",null,[t("div",ii,[t("div",ri,[t("span",{class:"scale-110 material-symbols-outlined",style:S({color:e.getproviderBgColor(r.supplierName)})},"speed",4),ai]),t("div",ni,[t("span",{class:"scale-110 material-symbols-outlined",style:S({color:e.getproviderBgColor(r.supplierName)})},di,4),ci]),t("div",pi,[t("span",{class:"scale-110 material-symbols-outlined",style:S({color:e.getproviderBgColor(r.supplierName)})},hi,4),mi]),t("div",vi,[t("span",{class:"scale-110 material-symbols-outlined",style:S({color:e.getproviderBgColor(r.supplierName)})},fi,4),yi])])]),t("th",null,[t("div",_i,[t("div",bi,[t("span",{class:"scale-110 material-symbols-outlined",style:S({color:e.getproviderBgColor(r.supplierName)})},Si,4),ki]),t("div",Ci,[t("span",{class:"scale-110 material-symbols-outlined",style:S({color:e.getproviderBgColor(r.supplierName)})},"bring_your_own_ip ",4),xi]),t("div",$i,[t("span",{class:"scale-110 material-symbols-outlined",style:S({color:e.getproviderBgColor(r.supplierName)})},"dialer_sip ",4),Pi]),t("div",Ti,[t("span",{class:"scale-110 material-symbols-outlined",style:S({color:e.getproviderBgColor(r.supplierName)})},"payment ",4),Li])])])])])])])])]))),128))]),t("div",Mi,null,512),t("div",Ai,null,512)],512),t("div",Ii,[t("div",Bi,[e.abc?m("",!0):(a(!0),l(g,{key:0},b(e.getPrice,r=>(a(),l("div",{class:"swiper-slide",key:r.MRC},[t("img",{class:"w-20 p-2 h-10 xs:h-12 bg-white rounded-md shadow-lg",src:e.getproviderThumbLogo(r.supplierName)},null,8,Ni)]))),128)),e.abc?(a(!0),l(g,{key:1},b(e.getPrice,r=>(a(),l("div",{class:"swiper-slide",key:r.MRC},[t("button",zi,[t("span",null,u(r.capacity)+" Mbps",1),M(" "+u(e.currency)+u(r.MRC),1)])]))),128)):m("",!0)])],512)])],512),[[R,e.test]]),t("div",Oi,Ri,512),f(t("div",qi,[t("div",Ei,[t("div",Fi,[t("div",Di,[t("div",Ui,[ji,t("div",Gi,[t("div",Ki,[t("button",{class:"flex w-full scale-125 xs:scale-150 images material-symbols-outlined",onClick:s[6]||(s[6]=(...r)=>e.checkoutItems&&e.checkoutItems(...r))},"shopping_cart_checkout "),e.counterCheckoutItems?(a(),l("span",Wi,u(e.counterCheckoutItems),1)):m("",!0)])])]),Hi,(a(!0),l(g,null,b(e.basketItems,(r,h)=>(a(),l("div",{class:"flex xs:flex-row items-center hover:bg-gray-100 -mx-6 px-6 py-1",key:h},[t("div",Zi,[t("div",Xi,[t("img",{class:"h-8 w-16 xs:h-8",src:e.getproviderThumbLogo(r.supplierName)},null,8,Ji)]),t("div",Qi,[t("span",Yi,u(r.capacity)+"Mbps",1),t("span",er,u(r.productType),1),t("span",tr,u(r.product),1)])]),t("div",sr,[t("span",or,u(r.contractPeriod),1)]),t("div",ir,[t("span",rr,u(e.currency)+u(r.NRC),1)]),t("div",ar,[t("span",nr,u(e.currency)+u(r.MRC),1)]),t("div",lr,[t("button",{class:"images material-symbols-outlined",onClick:T=>e.removeItemFromBasket(r)},"delete",8,dr)])]))),128)),t("div",cr,[t("h1",pr,"Total amount: "+u(e.currency)+u(e.total),1)])])])]),f(t("div",ur,"Edit",512),[[R,e.formStepsNum>0]]),f(t("div",hr,"Edit",512),[[R,e.formStepsNum===0]])],512),[[R,e.formStepsNum!=3]])])])}var vr=k(Gs,[["render",mr],["__scopeId","data-v-74718f27"]]);const gr=C({async mounted(){this.getOnlySelectedService(),this.initSwiper()},props:{prodAvail:Object},emits:["stepProduct"],components:{},data(){return{step:1,productImages:{"Fibre (Active Ethernet)":{url:"#fibre",type:"Fiber"},"Microwave (Point-to-Multipoint)":{url:"#wireless",type:"Wireless"},LTE:{url:"#lte",type:"LTE"},"Fibre (GPON / FttX)":{url:"#gpon",type:"FttX"},"Satellite Internet":{url:"#vsat",type:"VSAT"}},providerz:[{id:1,name:"Provider 1",logo:"https://res.cloudinary.com/vidmax/image/upload/v1669896703/openserve_qowcq7.png",price:"R547.00pm",pricing:[{id:1,name:"Plan A",price:"R547"},{id:2,name:"Plan B",price:"R647"},{id:3,name:"Plan C",price:"R1397"}],selected:!1},{id:2,name:"Provider 2",logo:"https://res.cloudinary.com/vidmax/image/upload/v1680005576/Frogfoot-Logo_ftq44m.svg",price:"R727.00pm",pricing:[{id:1,name:"Plan A",price:"R528"},{id:2,name:"Plan B",price:"R650"},{id:3,name:"Plan C",price:"R1497"}],selected:!1},{id:3,name:"Provider 3",logo:"https://res.cloudinary.com/vidmax/image/upload/v16780005040/Logo-Telecoms_httyjc.svg",price:"R449.00pm",pricing:[{id:1,name:"Plan A",price:"R647"},{id:2,name:"Plan B",price:"R747"},{id:3,name:"Plan C",price:"R1597"}],selected:!1}],selectedProduct:null,selectedProvider:"",selectedPackage:null,formStepsNum:0,formSteps:[],stepBtns:[],toggle:[],edit:[],buy:[],buybottom:[],buyremove:[],disablehover:[],sliderAmount:void 0,mySwiper1:null,mySwiper2:null,slidesPerView:1,basketItems:[],counterCheckoutItems:0,currency:"R",selectedServices:[],ServicesType:"",selectedServiceType:"Select Option",selectedSupplier:[],selectedSpeed:"Select Option",selectedTerm:12,selectedPrice:0,initialSlide:0,thumbsSwiper:null,thumbsize:0,screenwidth:{},internet:!0,transit:!1,ip:!0,slider:{data:[]},providerCardTextColor:{comsol:"#a6a4a6",openserve:"#fff",mtn:"#4B5563",liquidtelecom:"#fff",frogfoot:"#0b2c48",bitco:"#fff",wiocc:"#fff",easyweb:"#fff",meshtelecom:"#fff",dfa:"#fff",linkafrica:"#fff",seacom:"#fff",telkom:"#fff",vodacom:"#fff",metrofibrenetworx:"#0c1c24",vumatelbusiness:"#fff",mtnbusiness:"#0a0804",mapchi:"#fff",metrofibrenetworxftth:"#0c1c24",openserveftth:"#fff"},providerCardColor:{comsol:"#23337b",openserve:"#16b251",mtn:"#fbc404",liquidtelecom:"#ca1c7c",frogfoot:"#2db653",bitco:"#2b3c8a",wiocc:"#23348c",easyweb:"#72acde",meshtelecom:"#a62129",dfa:"#00b500",linkafrica:"#624d89",seacom:"#356692",telkom:"#0884c4",vodacom:"#ec3424",metrofibrenetworx:"#f4561b",vumatelbusiness:"#ee008c",mtnbusiness:"#fbc404",mapchi:"#db2777",metrofibrenetworxftth:"#f4561b",openserveftth:"#16b251"},providers:{comsol:"https://res.cloudinary.com/vidmax/image/upload/v1682437686/Logo_-_Comsol_lca4ks.png",openfibre:"https://res.cloudinary.com/vidmax/image/upload/v1682438031/Logo_-_Open_Fibre_f1eoux.png",openserve:"https://res.cloudinary.com/vidmax/image/upload/v1682438031/Logo_-_Openserve_eyehqo.png",mtn:"https://res.cloudinary.com/vidmax/image/upload/v1682437881/Logo_-_MTN_beeald.png",liquidtelecom:"https://res.cloudinary.com/vidmax/image/upload/v1682437880/Logo_-_Liquid_tn29sj.png",frogfoot:"https://res.cloudinary.com/vidmax/image/upload/v1682437715/Logo_-_Frogfoot_mssugt.png",bitco:"https://res.cloudinary.com/vidmax/image/upload/v1682437714/Logo_-_Bitco_onfyti.png1",wiocc:"https://res.cloudinary.com/vidmax/image/upload/v1677578293/wiocc_rn5zkv.png",easyweb:"https://res.cloudinary.com/vidmax/image/upload/v1682437715/Logo_-_Easyweb_vlm8pn.png",meshtelecom:"https://res.cloudinary.com/vidmax/image/upload/v1682437880/Logo_-_Mesh_Telecom_mezplw.png",dfa:"https://res.cloudinary.com/vidmax/image/upload/v1682431120/Logo_-_DFA_mfkaok.png",linkafrica:"https://res.cloudinary.com/vidmax/image/upload/v1682437880/Logo_-_Link_Africa_mgwbec.png",seacom:"https://res.cloudinary.com/vidmax/image/upload/v1682438031/Logo_-_SEACOM_qqhnfy.png",telkom:"https://res.cloudinary.com/vidmax/image/upload/v1680001038/mapchi-providers/telkom.jpg",vodacom:"https://res.cloudinary.com/vidmax/image/upload/v1682438032/Logo_-_Vodacom_cxrly8.png",metrofibrenetworx:"https://res.cloudinary.com/vidmax/image/upload/v1682435874/Logo_-_MetroFibre_svyoub.png",vumatelbusiness:"https://res.cloudinary.com/vidmax/image/upload/v1680010757/vuma-logo-pink.946d949b_lzhldp.svg",mapchi:"https://res.cloudinary.com/vidmax/image/upload/v1682438031/Logo_-_Pindrop_dislbr.png",mtnbusiness:"https://res.cloudinary.com/vidmax/image/upload/v1677580086/MTN_cvpvr6.png",twoobii:"https://res.cloudinary.com/vidmax/image/upload/v1682438031/Logo_-_Twoobii_dptlrb.png",metrofibrenetworxftth:"https://res.cloudinary.com/vidmax/image/upload/v1682435874/Logo_-_MetroFibre_svyoub.png",openserveftth:"https://res.cloudinary.com/vidmax/image/upload/v1682438031/Logo_-_Open_Fibre_f1eoux.png",thinkfibreftth:"https://res.cloudinary.com/vidmax/image/upload/v1682438031/Logo_-_Thinkspeed_qzfxf9.png"},providerCardIconColor:"#fff",providerCardIconColorBackground:"#92879B"}},created(){window.addEventListener("resize",()=>{this.screenwidth=window.innerWidth})},watch:{selectedSpeed(){}},computed:{isMobile(){return this.screenwidth<480},continueButtonDisabled(){return this.selectedProduct===null},total(){return this.basketItems.reduce((e,s)=>e+s.total,0)},test(){return!0},getUniqueSupplier(){let e=[];const s=p.map(this.selectedServices,c=>({supplierName:c.supplierName,MRC:c.MRC,contractPeriod:c.contractPeriod}));console.log(s,"suppliers");const o=p.map(p.groupBy(s,"supplierName"),c=>{const i=p.min(p.flatMap(c,"MRC"));return{supplierName:c[0].supplierName,price:i}});switch(e=p.uniqBy(o,"supplierName"),console.log(e),e.length){case 1:this.slidesPerView=e.length;break;case 2:this.slidesPerView=e.length;break;case 3:this.slidesPerView=e.length;break;case 4:this.slidesPerView=e.length;break;default:this.slidesPerView=Math.min(3,e.length);break}this.selectedSupplier=e;let n=e.map((c,i)=>({supplier:c,index:i}));n=V.exports.shuffle(n),this.selectedSupplier=n.map(c=>c.supplier);let d=n.findIndex(c=>c.index===this.providerIndex);return console.log(d),this.resetSlides(),this.$nextTick(()=>{if(this.providerIndex){switch(this.providerIndex%3){case 0:this.providerIndex===this.selectedSupplier.length?this.providerIndex--:this.providerIndex++;break;case 2:this.providerIndex===this.selectedSupplier.length-1||this.providerIndex===this.selectedSupplier.length-2?this.providerIndex-=2:this.providerIndex++;break;default:this.providerIndex;break}this.mySwiper1.slideTo(this.providerIndex,0)}}),e},getUniquePriceSupplier(){let e=[];switch(e=p.filter(this.selectedServices,{supplierName:this.selectedProvider,contractPeriod:this.selectedTerm}),e=e.map(({supplierName:s,contractPeriod:o,id:n,capacity:d,MRC:c,NRC:i})=>({supplierName:s,contractPeriod:o,id:n,capacity:d,MRC:c,NRC:i})),e=p.sortBy(e,"MRC"),e.length){case 1:this.slidesPerView=e.length;break;case 2:this.slidesPerView=e.length;break;case 3:this.slidesPerView=e.length;break;case 4:this.slidesPerView=e.length;break;default:this.slidesPerView=Math.min(3,e.length);break}return this.resetSlides(),console.log(e),e},getproviderCardTextColor(){return e=>this.providerCardTextColor[e.toLowerCase().replace(/\s/g,"")]||this.providerCardTextColor.mapchi},getproviderBgColor(){return e=>this.providerCardColor[e.toLowerCase().replace(/\s/g,"")]||this.providerCardColor.mapchi},getproviderCardBg(){return e=>`url(${this.providers[e.toLowerCase().replace(/\s/g,"")]||this.providers.mapchi})`},getproviderThumbLogo(){return e=>this.providers[e.toLowerCase().replace(/\s/g,"")]||this.providers.mapchi},getUniqueTerm(){let e=[];return e=p.filter(this.selectedServices,{supplierName:this.selectedProvider}),e=p(e).sortBy("contractPeriod").map("contractPeriod").uniq().value(),e!=null&&(e.length>=2?(this.selectedTerm=0,this.selectedTerm=e[1]):(this.selectedTerm=0,this.selectedTerm=e[0])),e}},methods:{filterByMonths(e){console.log(e),this.selectedTerm=e,this.mySwiper1&&this.mySwiper1.slideTo(0,0)},initSwiper(){this.mySwiper1=new H(this.$refs.swiper1,{modules:[Q,Y],spaceBetween:10,slidesPerView:this.slidesPerView<=3?this.slidesPerView:3,slidesPerGroup:3,navigation:{nextEl:this.$refs.swiperbuttonnext1,prevEl:this.$refs.swiperbuttonprev1},on:{init:function(){var e=document.querySelector(".swiper-container");e==null||e.addEventListener("DOMSubtreeModified",function(){for(var s=document.querySelectorAll(".swiper-slide"),o=3;o<s.length;o++)s[o].classList.add("swiper-slide-hidden")})}}}),this.mySwiper1.on("slideChange",()=>{for(var e=document.querySelectorAll(".swiper-slide"),s=this.mySwiper1.activeIndex,o=0;o<e.length;o++)o<s||o>s+2?e[o].classList.add("swiper-slide-hidden"):e[o].classList.remove("swiper-slide-hidden")})},closeModal(){},selectProduct(e){this.selectedProduct=e.product},selectProvider(e,s){this.selectedProvider=[],this.selectedSupplier.forEach(o=>{o.selected=!1}),e.selected=!0,this.selectedProvider=e.supplierName,this.providerIndex=s},selectPackage(e){e.selected=!0,this.selectedPackage=e.MRC},goBack(){if(this.step--,console.log(this.step),this.selectedSupplier.forEach(e=>{e.supplierName===this.selectedProvider?e.selected=!0:e.selected=!1}),console.log(this.mySwiper1),this.mySwiper1){switch(this.providerIndex%3){case 0:this.providerIndex===this.selectedSupplier.length?this.providerIndex--:this.providerIndex++;break;default:this.providerIndex;break}this.mySwiper1.slideTo(this.providerIndex,0)}},goContinue(){this.$emit("stepProduct",this.selectedProduct)},handleSwiperClick(){},resetSlides(){document.documentElement.style.setProperty("--transform-providerCardIconColor",this.providerCardIconColor),document.documentElement.style.setProperty("--transform-providerCardIconColorBackground",this.providerCardIconColorBackground),this.initSwiper(),this.selectedSupplier.length<=3?document.documentElement.style.setProperty("--opacity","0"):this.selectedSupplier.length>3&&document.documentElement.style.setProperty("--opacity","1"),document.documentElement.style.setProperty("--size",this.thumbsize+"%")},async getOnlySelectedService(){console.log(this.prodAvail)}}}),U=e=>(N("data-v-d614d888"),e=e(),z(),e),fr={class:"signup-modal"},yr={class:"modal-header"},_r=U(()=>t("dl",null,[t("dt",null,[t("span",{class:"pl-2 textSecure scale-125 material-symbols-outlined"}," lock "),t("span",{class:"textSecure"},"Secure")]),t("dd",null,"Choose a product")],-1)),br={class:"modal-close"},wr={class:"modal-body"},Sr={class:"swiper-container"},kr={ref:"swiper1",class:"swiper mySwiper"},Cr={style:{visibility:"hidden"},class:"filter-container"},xr={class:"pr-2"},$r=U(()=>t("span",{class:"material-icons-outlined"},"calendar_today",-1)),Pr=U(()=>t("span",{class:"pr-2"},"12 Months",-1)),Tr=[$r,Pr],Lr={class:"swiper-wrapper"},Mr=["onClick"],Ar={class:"container"},Ir={class:"provider-logo"},Br={class:"signup-icon"},Nr=["src"],zr={class:"card-footer"},Or=M("Starting from "),Vr={ref:"swiperbuttonnext1",class:"swiper-button-next"},Rr={ref:"swiperbuttonprev1",class:"swiper-button-prev"},qr=U(()=>t("div",{style:{visibility:"hidden"},class:"filter-container"},[t("div",{class:"view-all-container"},[t("p",{class:"view-all"},"View all speed options."),t("p",{class:"view-allimage"})])],-1)),Er={class:"modal-footer"},Fr=U(()=>t("span",null,"Back",-1)),Dr=[Fr],Ur=["disabled"],jr=U(()=>t("span",null,"Continue",-1)),Gr=[jr],Kr=A(`<svg width="0" height="0" style="display:none;" data-v-d614d888><symbol viewBox="0 0 50 39" id="provider-slow" data-v-d614d888><path d="M16.5438275,2.6353057 C25.7888275,-1.3236943 36.5338275,1.0803057 43.2038275,8.5993057 C49.8748275,16.1193057 50.9698275,27.0623057 45.9208275,35.7513057 C45.0918275,37.1853057 43.5648275,38.0723057 41.9078275,38.0823057 L9.59082745,38.0823057 L9.20682745,38.0673057 C7.96182745,37.9703057 6.81782745,37.3723057 6.01882745,36.4293057 C5.83682745,36.2693057 5.67082745,36.0893057 5.54282745,35.8693057 C4.94882745,34.8513057 4.42882745,33.7793057 3.99682745,32.6813057 C3.53082745,31.4993057 4.11182745,30.1643057 5.29382745,29.6993057 C6.47682745,29.2333057 7.81182745,29.8143057 8.27682745,30.9963057 C8.45882745,31.4573057 8.66182745,31.9123057 8.88082745,32.3593057 L8.89082745,32.3493057 C9.29882745,33.1143057 10.0988275,33.5903057 10.9678275,33.5843057 L40.4838275,33.5843057 L40.7718275,33.5673057 C41.3938275,33.4913057 41.9478275,33.1583057 42.3278275,32.6653057 C46.0008275,25.5013057 44.6428275,16.6313057 38.9168275,10.9053057 C36.2748275,8.2633057 32.9818275,6.5103057 29.4008275,5.7933057 C29.3618275,5.7853057 29.3228275,5.7793057 29.2838275,5.7723057 C28.8048275,5.6793057 28.3198275,5.6133057 27.8318275,5.5573057 C27.6758275,5.5413057 27.5208275,5.5193057 27.3638275,5.5063057 C26.9338275,5.4683057 26.5008275,5.4523057 26.0668275,5.4433057 C25.6198275,5.4373057 25.1728275,5.4453057 24.7228275,5.4723057 C24.7028275,5.4733057 24.6828275,5.4743057 24.6628275,5.4753057 C24.2438275,5.5013057 23.8238275,5.5403057 23.4038275,5.5953057 C21.7088275,5.7943057 20.0518275,6.2333057 18.4808275,6.9003057 L18.1928275,7.0183057 C18.1658275,7.0273057 18.1378275,7.0273057 18.1108275,7.0353057 C16.0328275,7.9573057 14.1138275,9.2493057 12.4588275,10.9053057 C10.6588275,12.7043057 9.27082745,14.8013057 8.32982745,17.1383057 C7.85682745,18.3163057 6.51782745,18.8893057 5.33782745,18.4133057 C4.15882745,17.9393057 3.58782745,16.5993057 4.06282745,15.4213057 C5.23482745,12.5053057 6.96582745,9.8923057 9.20582745,7.6523057 C11.2198275,5.6373057 13.5238275,4.0963057 15.9748275,2.9743057 C16.1458275,2.8373057 16.3348275,2.7213057 16.5438275,2.6353057 Z M25.3582951,18.4976948 L25.5937677,18.5037208 C27.3140523,18.587874 28.8826588,19.5463331 29.74728,21.0575012 L29.8703916,21.2857404 C30.6500025,22.822873 30.6070067,24.6601581 29.7444064,26.1616466 L29.6138776,26.3762423 C28.7569143,27.7102227 27.3321033,28.5625371 25.7662422,28.6893117 L25.3505506,28.7060903 L-3.88578059e-16,23.5507704 L25.3582951,18.4976948 Z" data-v-d614d888></path></symbol></svg><svg width="0" height="0" style="display:none;" data-v-d614d888><symbol viewBox="0 0 16 26" id="speed-down" data-v-d614d888><polygon points="7 0 7 22.17 1.42 16.58 0 18 8 26 16 18 14.59 16.59 9 22.17 9 0" data-v-d614d888></polygon></symbol></svg><svg width="0" height="0" style="display:none;" data-v-d614d888><symbol viewBox="0 0 16 26" id="speed-up" data-v-d614d888><polygon points="7 26 7 3.83 1.42 9.42 0 8 8 0 16 8 14.59 9.41 9 3.83 9 26" data-v-d614d888></polygon></symbol></svg><svg width="0" height="0" style="display:none;" data-v-d614d888><symbol viewBox="0 0 64 64" id="fibre" data-v-d614d888><g transform="translate(0.000000,64.000000) scale(0.100000,-0.100000)" data-v-d614d888><path d="M60 500 l0 -40 50 0 50 0 0 40 0 40 -50 0 -50 0 0 -40z" data-v-d614d888></path><path d="M190 510 c0 -19 7 -20 180 -20 l180 0 0 -140 0 -140 -200 0 c-194 0\r
  -200 -1 -200 -20 0 -20 5 -21 220 -19 l220 2 0 179 0 178 -200 0 c-193 0 -200\r
  -1 -200 -20z" data-v-d614d888></path><path d="M50 390 c0 -39 4 -53 20 -62 18 -12 20 -24 20 -135 0 -116 1 -123 20\r
  -123 19 0 20 7 20 123 0 111 2 123 20 135 16 9 20 23 20 62 0 43 -3 50 -20 50\r
  -16 0 -20 -7 -20 -30 0 -23 -4 -30 -20 -30 -16 0 -20 7 -20 30 0 23 -4 30 -20\r
  30 -17 0 -20 -7 -20 -50z" data-v-d614d888></path><path d="M277 130 c-3 -13 -14 -20 -30 -20 -14 0 -35 -9 -48 -20 l-24 -19 135\r
  0 135 0 -24 19 c-13 11 -34 20 -47 20 -12 0 -27 6 -31 13 -4 8 -20 17 -34 20\r
  -21 5 -28 3 -32 -13z" data-v-d614d888></path></g></symbol></svg><svg width="0" height="0" style="display:none;" data-v-d614d888><symbol viewBox="0 0 50 50" id="fibre1" data-v-d614d888><g transform="translate(0.000000,50.000000) scale(0.100000,-0.100000)" fill="#000000" stroke="none" data-v-d614d888><path d="M70 465 c0 -12 20 -15 120 -15 100 0 120 3 120 15 0 13 -20 15 -120\r
  15 -100 0 -120 -2 -120 -15z" data-v-d614d888></path><path d="M20 235 l0 -195 70 0 c40 0 70 -4 70 -10 0 -6 60 -10 160 -10 107 0\r
  160 4 160 11 0 23 -21 47 -50 59 -27 11 -31 17 -25 39 4 14 9 47 12 72 4 44 3\r
  48 -26 65 -30 18 -31 20 -31 91 l0 73 -170 0 -170 0 0 -195z m100 135 c0 -5\r
  -9 -10 -20 -10 -11 0 -20 5 -20 10 0 6 9 10 20 10 11 0 20 -4 20 -10z m90 0\r
  c0 -5 -9 -10 -20 -10 -11 0 -20 5 -20 10 0 6 9 10 20 10 11 0 20 -4 20 -10z\r
  m90 0 c0 -5 -9 -10 -20 -10 -11 0 -20 5 -20 10 0 6 9 10 20 10 11 0 20 -4 20\r
  -10z m-180 -50 c0 -5 -9 -10 -20 -10 -11 0 -20 5 -20 10 0 6 9 10 20 10 11 0\r
  20 -4 20 -10z m90 0 c0 -5 -9 -10 -20 -10 -11 0 -20 5 -20 10 0 6 9 10 20 10\r
  11 0 20 -4 20 -10z m90 0 c0 -5 -9 -10 -20 -10 -11 0 -20 5 -20 10 0 6 9 10\r
  20 10 11 0 20 -4 20 -10z m-180 -50 c0 -5 -9 -10 -20 -10 -11 0 -20 5 -20 10\r
  0 6 9 10 20 10 11 0 20 -4 20 -10z m90 0 c0 -5 -9 -10 -20 -10 -11 0 -20 5\r
  -20 10 0 6 9 10 20 10 11 0 20 -4 20 -10z m95 -3 c15 -12 17 -22 11 -63 -15\r
  -96 -13 -107 15 -121 15 -7 32 -20 39 -28 11 -13 0 -15 -90 -15 -90 0 -101 2\r
  -90 15 7 8 24 21 39 28 29 14 39 50 20 73 -20 24 -22 84 -3 105 20 22 34 24\r
  59 6z m80 -20 c18 -14 18 -21 -1 -123 -5 -28 -2 -33 30 -48 45 -21 54 -36 22\r
  -36 -13 0 -37 12 -53 28 -16 15 -38 32 -48 38 -18 10 -19 15 -7 46 6 19 12 48\r
  12 65 0 44 13 53 45 30z m-265 -27 c0 -5 -9 -10 -20 -10 -11 0 -20 5 -20 10 0\r
  6 9 10 20 10 11 0 20 -4 20 -10z m90 0 c0 -5 -9 -10 -20 -10 -11 0 -20 5 -20\r
  10 0 6 9 10 20 10 11 0 20 -4 20 -10z m-90 -50 c0 -5 -9 -10 -20 -10 -11 0\r
  -20 5 -20 10 0 6 9 10 20 10 11 0 20 -4 20 -10z m90 0 c0 -5 -9 -10 -20 -10\r
  -11 0 -20 5 -20 10 0 6 9 10 20 10 11 0 20 -4 20 -10z m-90 -50 c0 -5 -9 -10\r
  -20 -10 -11 0 -20 5 -20 10 0 6 9 10 20 10 11 0 20 -4 20 -10z m90 0 c0 -5 -9\r
  -10 -20 -10 -11 0 -20 5 -20 10 0 6 9 10 20 10 11 0 20 -4 20 -10z" data-v-d614d888></path></g></symbol></svg><svg width="0" height="0" style="display:none;" data-v-d614d888><symbol viewBox="0 0 100 100" id="wireless" data-v-d614d888><g transform="translate(0.000000, 100.000000) scale(0.100000,-0.100000)" data-v-d614d888><path d="M170 970 c-48 -67 -64 -121 -64 -210 0 -72 4 -94 28 -147 32 -71 61\r
  -102 77 -86 8 8 3 23 -16 51 -72 109 -73 244 -3 354 27 43 30 68 8 68 -5 0\r
  -18 -13 -30 -30z" data-v-d614d888></path><path d="M785 990 c-4 -6 7 -32 23 -58 70 -110 69 -245 -3 -354 -19 -28 -24\r
  -43 -16 -51 16 -16 45 15 75 82 50 112 44 231 -17 331 -33 55 -50 69 -62 50z" data-v-d614d888></path><path d="M282 898 c-29 -47 -46 -122 -38 -173 7 -52 40 -123 61 -131 30 -12\r
  31 8 4 62 -37 73 -38 132 -4 200 14 27 25 55 25 62 0 24 -29 12 -48 -20z" data-v-d614d888></path><path d="M670 918 c0 -7 11 -35 25 -62 34 -68 33 -127 -4 -200 -22 -44 -26\r
  -59 -15 -63 19 -7 32 4 56 50 33 62 32 166 -3 232 -24 47 -59 73 -59 43z" data-v-d614d888></path><path d="M463 828 c-12 -6 -27 -24 -34 -40 -10 -25 -9 -35 5 -65 l17 -35 -121\r
  -318 c-66 -175 -120 -324 -120 -333 0 -22 26 -40 49 -32 11 3 27 24 36 48 l16\r
  42 162 44 c89 24 167 45 172 47 6 2 25 -36 44 -86 23 -61 39 -91 53 -95 22 -8\r
  48 10 48 32 0 9 -54 158 -120 333 l-121 318 17 35 c14 30 15 40 5 65 -12 28\r
  -48 53 -74 51 -7 0 -22 -5 -34 -11z m65 -305 c12 -31 19 -60 16 -64 -6 -10\r
  -96 -40 -102 -34 -6 6 49 155 58 155 4 0 17 -26 28 -57z m68 -179 c8 -20 14\r
  -37 12 -39 -2 -2 -30 7 -63 20 l-60 22 35 16 c51 23 59 21 76 -19z m-69 -94\r
  c4 0 3 -4 -3 -9 -8 -8 -150 -51 -168 -51 -8 0 -1 26 20 77 l13 33 66 -25 c36\r
  -14 69 -25 72 -25z" data-v-d614d888></path></g></symbol></svg><svg width="0" height="0" style="display:none;" data-v-d614d888><symbol viewBox="0 0 100 100" id="lte" data-v-d614d888><g transform="translate(0.000000,100.000000) scale(0.100000,-0.100000)" data-v-d614d888><path d="M244 968 c-12 -5 -27 -21 -33 -34 -15 -35 -15 -833 0 -867 19 -43 46\r
  -47 289 -47 243 0 270 4 289 47 7 16 11 143 11 390 l0 367 -78 78 -78 78 -190\r
  -1 c-108 0 -198 -5 -210 -11z m156 -448 c0 -93 11 -100 160 -100 l120 0 0 -60\r
  0 -60 -130 0 -130 0 0 38 c0 48 -14 62 -62 62 l-38 0 0 78 c0 86 8 102 52 102\r
  28 0 28 -1 28 -60z m80 -1 c0 -52 -2 -60 -17 -57 -14 2 -19 15 -21 61 -3 52\r
  -1 57 18 57 18 0 20 -6 20 -61z m80 1 c0 -53 -2 -60 -20 -60 -18 0 -20 7 -20\r
  60 0 53 2 60 20 60 18 0 20 -7 20 -60z m108 48 c7 -7 12 -34 12 -60 l0 -48\r
  -40 0 -40 0 0 60 c0 59 0 60 28 60 15 0 33 -5 40 -12z m-288 -308 c0 -90 -2\r
  -100 -18 -100 -34 0 -42 21 -42 112 l0 88 30 0 30 0 0 -100z m100 -50 c0 -49\r
  -1 -50 -30 -50 -29 0 -30 1 -30 50 0 49 1 50 30 50 29 0 30 -1 30 -50z m80 0\r
  c0 -43 -3 -50 -20 -50 -17 0 -20 7 -20 50 0 43 3 50 20 50 17 0 20 -7 20 -50z\r
  m120 12 c0 -45 -14 -62 -52 -62 -27 0 -28 2 -28 50 l0 50 40 0 c40 0 40 0 40\r
  -38z" data-v-d614d888></path></g></symbol></svg><svg width="0" height="0" style="display:none;" data-v-d614d888><symbol viewBox="0 0 64 64" id="gpon" data-v-d614d888><g transform="translate(0.000000,64.000000) scale(0.100000,-0.100000)" data-v-d614d888><path d="M162 464 c-84 -69 -150 -130 -147 -135 16 -25 58 -2 178 96 l127 105\r
  127 -105 c119 -98 162 -121 178 -96 3 5 -15 26 -40 46 -45 37 -45 38 -45 101\r
  l0 64 -44 0 c-40 0 -45 -3 -48 -25 -3 -25 -4 -25 -65 25 -34 27 -63 50 -65 49\r
  -2 0 -72 -56 -156 -125z" data-v-d614d888></path><path d="M198 394 l-118 -95 0 -119 0 -120 157 0 c155 0 156 0 138 20 -13 15\r
  -31 20 -67 20 l-48 0 0 90 c0 88 0 90 24 90 13 0 43 9 67 20 27 12 66 20 99\r
  20 l55 0 -90 85 c-49 46 -92 84 -95 84 -3 0 -58 -43 -122 -95z" data-v-d614d888></path><path d="M353 269 c-48 -24 -68 -43 -58 -59 4 -7 16 -4 33 8 71 50 170 53 247\r
  8 36 -21 45 -23 54 -12 9 11 6 18 -16 33 -69 48 -187 58 -260 22z" data-v-d614d888></path><path d="M381 200 c-41 -19 -43 -22 -29 -37 15 -14 18 -14 39 1 30 20 105 21\r
  143 1 23 -12 31 -13 37 -3 12 19 -45 50 -99 55 -33 3 -60 -3 -91 -17z" data-v-d614d888></path><path d="M445 142 c-24 -5 -46 -22 -41 -31 2 -3 28 -6 58 -6 39 0 53 4 53 14\r
  0 16 -40 29 -70 23z" data-v-d614d888></path><path d="M540 75 c-10 -12 -10 -15 4 -15 9 0 16 7 16 15 0 8 -2 15 -4 15 -2 0\r
  -9 -7 -16 -15z" data-v-d614d888></path><path d="M430 65 c-26 -32 13 -81 48 -59 22 14 27 41 12 59 -16 19 -44 19 -60\r
  0z" data-v-d614d888></path></g></symbol></svg><svg width="0" height="0" style="display:none;" data-v-d614d888><symbol viewBox="0 0 50 50" id="vsat" data-v-d614d888><g transform="translate(0.000000,50.000000) scale(0.100000,-0.100000)" data-v-d614d888><path d="M190 455 l-44 -45 27 -27 27 -28 47 47 47 47 -24 26 c-13 14 -26 25\r
  -30 25 -3 0 -26 -20 -50 -45z" data-v-d614d888></path><path d="M262 387 c-34 -34 -62 -68 -62 -74 0 -7 -9 -17 -21 -23 -19 -11 -19\r
  -13 -5 -29 9 -10 16 -24 16 -32 0 -19 20 -39 39 -39 8 0 22 -7 32 -16 16 -14\r
  18 -14 29 5 6 12 16 21 23 21 21 0 137 124 137 146 0 26 -80 104 -106 104 -11\r
  0 -47 -28 -82 -63z m-9 -135 c17 -20 29 -52 20 -52 -9 0 -73 62 -73 71 0 12\r
  38 -2 53 -19z" data-v-d614d888></path><path d="M400 245 l-44 -45 27 -27 27 -28 47 47 47 47 -24 26 c-13 14 -26 25\r
  -30 25 -3 0 -26 -20 -50 -45z" data-v-d614d888></path><path d="M0 128 c0 -53 75 -128 128 -128 34 0 26 17 -11 24 -41 8 -85 51 -93\r
  94 -7 37 -24 43 -24 10z" data-v-d614d888></path><path d="M78 144 c-10 -16 11 -54 34 -63 32 -12 46 -1 18 14 -13 7 -28 22 -35\r
  35 -7 12 -15 19 -17 14z" data-v-d614d888></path></g></symbol></svg>`,9);function Wr(e,s,o,n,d,c){return a(),l(g,null,[t("div",fr,[t("div",yr,[_r,t("div",br,[t("span",{class:"scale-75 material-symbols-outlined",onClick:s[0]||(s[0]=(...i)=>e.closeModal&&e.closeModal(...i))},"close")])])]),t("div",wr,[t("div",Sr,[t("div",kr,[t("div",Cr,[t("div",xr,[t("button",{class:"calendar-button",onClick:s[1]||(s[1]=i=>e.filterByMonths(12))},Tr)])]),t("div",Lr,[(a(!0),l(g,null,b(e.prodAvail,(i,r)=>(a(),l("div",{class:"swiper-slide",onClick:h=>e.selectProduct(i,r),key:r},[t("div",{class:L(["fibre-provider-card",{selected:i.product===e.selectedProduct}])},[t("div",Ar,[t("div",Ir,[t("span",Br,[t("img",{src:e.getproviderThumbLogo(i.supplierName)},null,8,Nr)])]),t("div",zr,[t("p",null,[Or,t("span",null,u(i.price),1)])])])],2)],8,Mr))),128))]),t("div",Vr,null,512),t("div",Rr,null,512),qr],512)])]),t("div",Er,[e.step>=2?(a(),l("button",{key:0,class:"signup-button ghost",onClick:s[2]||(s[2]=(...i)=>e.goBack&&e.goBack(...i))},Dr)):m("",!0),t("button",{class:L(["signup-button",{primary:!e.continueButtonDisabled,disabled:e.continueButtonDisabled}]),onClick:s[3]||(s[3]=(...i)=>e.goContinue&&e.goContinue(...i)),disabled:e.continueButtonDisabled},Gr,10,Ur)]),Kr],64)}var Hr=k(gr,[["render",Wr],["__scopeId","data-v-d614d888"]]);const Zr=C({async mounted(){this.getOnlySelectedService()},props:{prodAvail:Object,apiResults:Object,serviceChoice:String,providerIndexBack:Number,selectedProviderBack:String},emits:["stepProvider","close"],components:{},data(){return{abc:!1,step:1,selectedProducts:["Fibre to the Home","LTE","Fibre Business","Microwave","Satellite Internet"],productImages:{"Fibre Business":{url:"#fibre",type:"Fiber"},Microwave:{url:"#wireless",type:"Wireless"},LTE:{url:"#lte",type:"LTE"},"Fibre to the Home":{url:"#gpon",type:"FttH"},"Satellite Internet":{url:"#vsat",type:"VSAT"}},providerz:[{id:1,name:"Provider 1",logo:"https://res.cloudinary.com/vidmax/image/upload/v1669896703/openserve_qowcq7.png",price:"R547.00pm",pricing:[{id:1,name:"Plan A",price:"R547"},{id:2,name:"Plan B",price:"R647"},{id:3,name:"Plan C",price:"R1397"}],selected:!1},{id:2,name:"Provider 2",logo:"https://res.cloudinary.com/vidmax/image/upload/v1680005576/Frogfoot-Logo_ftq44m.svg",price:"R727.00pm",pricing:[{id:1,name:"Plan A",price:"R528"},{id:2,name:"Plan B",price:"R650"},{id:3,name:"Plan C",price:"R1497"}],selected:!1},{id:3,name:"Provider 3",logo:"https://res.cloudinary.com/vidmax/image/upload/v16780005040/Logo-Telecoms_httyjc.svg",price:"R449.00pm",pricing:[{id:1,name:"Plan A",price:"R647"},{id:2,name:"Plan B",price:"R747"},{id:3,name:"Plan C",price:"R1597"}],selected:!1}],selectedProduct:"",selectedProvider:"",selectedPackage:null,formStepsNum:0,formSteps:[],stepBtns:[],toggle:[],edit:[],buy:[],buybottom:[],buyremove:[],disablehover:[],sliderAmount:void 0,mySwiper1:null,mySwiper2:null,slidesPerView:1,providerIndex:null,basketItems:[],counterCheckoutItems:0,currency:"R",selectedServices:[],ServicesType:"",selectedServiceType:"Select Option",selectedSupplier:[],selectedSpeed:"Select Option",selectedTerm:12,selectedPrice:0,initialSlide:0,thumbsSwiper:null,thumbsize:0,screenwidth:{},internet:!0,transit:!1,ip:!0,slider:{data:[]},providerCardTextColor:{comsol:"#a6a4a6",openserve:"#fff",mtn:"#4B5563",liquidtelecom:"#fff",frogfoot:"#0b2c48",bitco:"#fff",wiocc:"#fff",easyweb:"#fff",meshtelecom:"#fff",dfa:"#fff",linkafrica:"#fff",seacom:"#fff",telkom:"#fff",vodacom:"#fff",metrofibrenetworx:"#0c1c24",vumatelbusiness:"#fff",mtnbusiness:"#0a0804",mapchi:"#fff",metrofibrenetworxftth:"#0c1c24",openserveftth:"#fff"},providerCardColor:{comsol:"#23337b",openserve:"#16b251",mtn:"#fbc404",liquidtelecom:"#ca1c7c",frogfoot:"#2db653",bitco:"#2b3c8a",wiocc:"#23348c",easyweb:"#72acde",meshtelecom:"#a62129",dfa:"#00b500",linkafrica:"#624d89",seacom:"#356692",telkom:"#0884c4",vodacom:"#ec3424",metrofibrenetworx:"#f4561b",vumatelbusiness:"#ee008c",mtnbusiness:"#fbc404",mapchi:"#db2777",metrofibrenetworxftth:"#f4561b",openserveftth:"#16b251"},providers:{comsol:"https://res.cloudinary.com/vidmax/image/upload/v1682437686/Logo_-_Comsol_lca4ks.png",openfibre:"https://res.cloudinary.com/vidmax/image/upload/v1682438031/Logo_-_Open_Fibre_f1eoux.png",openserve:"https://res.cloudinary.com/vidmax/image/upload/v1682438031/Logo_-_Openserve_eyehqo.png",mtn:"https://res.cloudinary.com/vidmax/image/upload/v1682437881/Logo_-_MTN_beeald.png",liquidtelecom:"https://res.cloudinary.com/vidmax/image/upload/v1682437880/Logo_-_Liquid_tn29sj.png",frogfoot:"https://res.cloudinary.com/vidmax/image/upload/v1682437715/Logo_-_Frogfoot_mssugt.png",bitco:"https://res.cloudinary.com/vidmax/image/upload/v1682437714/Logo_-_Bitco_onfyti.png1",wiocc:"https://res.cloudinary.com/vidmax/image/upload/v1677578293/wiocc_rn5zkv.png",easyweb:"https://res.cloudinary.com/vidmax/image/upload/v1682437715/Logo_-_Easyweb_vlm8pn.png",meshtelecom:"https://res.cloudinary.com/vidmax/image/upload/v1682437880/Logo_-_Mesh_Telecom_mezplw.png",dfa:"https://res.cloudinary.com/vidmax/image/upload/v1682431120/Logo_-_DFA_mfkaok.png",linkafrica:"https://res.cloudinary.com/vidmax/image/upload/v1682437880/Logo_-_Link_Africa_mgwbec.png",seacom:"https://res.cloudinary.com/vidmax/image/upload/v1682438031/Logo_-_SEACOM_qqhnfy.png",telkom:"https://res.cloudinary.com/vidmax/image/upload/v1680001038/mapchi-providers/telkom.jpg",vodacom:"https://res.cloudinary.com/vidmax/image/upload/v1682438032/Logo_-_Vodacom_cxrly8.png",metrofibrenetworx:"https://res.cloudinary.com/vidmax/image/upload/v1682435874/Logo_-_MetroFibre_svyoub.png",vumatelbusiness:"https://res.cloudinary.com/vidmax/image/upload/v1680010757/vuma-logo-pink.946d949b_lzhldp.svg",mapchi:"https://res.cloudinary.com/vidmax/image/upload/v1682438031/Logo_-_Pindrop_dislbr.png",mtnbusiness:"https://res.cloudinary.com/vidmax/image/upload/v1682437881/Logo_-_MTN_beeald.png",twoobii:"https://res.cloudinary.com/vidmax/image/upload/v1682438031/Logo_-_Twoobii_dptlrb.png",metrofibrenetworxftth:"https://res.cloudinary.com/vidmax/image/upload/v1682435874/Logo_-_MetroFibre_svyoub.png",openserveftth:"https://res.cloudinary.com/vidmax/image/upload/v1682438031/Logo_-_Open_Fibre_f1eoux.png",thinkfibreftth:"https://res.cloudinary.com/vidmax/image/upload/v1682438031/Logo_-_Thinkspeed_qzfxf9.png"},providerCardIconColor:"#fff",providerCardIconColorBackground:"#92879B"}},created(){window.addEventListener("resize",()=>{this.screenwidth=window.innerWidth})},watch:{selectedSpeed(){}},computed:{isMobile(){return this.screenwidth<480},continueButtonDisabled(){return this.providerIndex===null},total(){return this.basketItems.reduce((e,s)=>e+s.total,0)},test(){return!0},filteredProdAvail(){return this.prodAvail.filter(e=>this.selectedProducts.includes(e.product)).sort((e,s)=>this.selectedProducts.indexOf(e.product)-this.selectedProducts.indexOf(s.product))},getUniqueSupplier(){let e=[];const s=p.map(this.selectedServices,c=>({supplierName:c.supplierName,MRC:c.MRC,contractPeriod:c.contractPeriod}));console.log(s,"suppliers");const o=p.map(p.groupBy(s,"supplierName"),c=>{const i=p.min(p.flatMap(c,"MRC"));return{supplierName:c[0].supplierName,price:i}});switch(e=p.uniqBy(o,"supplierName"),console.log(e),e.length){case 1:this.slidesPerView=e.length;break;case 2:this.slidesPerView=e.length;break;case 3:this.slidesPerView=e.length;break;case 4:this.slidesPerView=e.length;break;default:this.slidesPerView=Math.min(3,e.length);break}this.selectedSupplier=e;let n=e.map((c,i)=>({supplier:c,index:i}));n=V.exports.shuffle(n),this.selectedSupplier=n.map(c=>c.supplier);let d=n.findIndex(c=>c.index===this.providerIndex);return console.log(d),this.resetSlides(),this.$nextTick(()=>{if(this.providerIndex){switch(this.providerIndex%3){case 0:this.providerIndex===this.selectedSupplier.length?this.providerIndex--:this.providerIndex++;break;case 2:this.providerIndex===this.selectedSupplier.length-1||this.providerIndex===this.selectedSupplier.length-2?this.providerIndex-=2:this.providerIndex++;break;default:this.providerIndex;break}this.mySwiper1.slideTo(this.providerIndex,0)}}),e},getUniquePriceSupplier(){let e=[];switch(e=p.filter(this.selectedServices,{supplierName:this.selectedProvider,contractPeriod:this.selectedTerm}),e=e.map(({supplierName:s,contractPeriod:o,id:n,capacity:d,MRC:c,NRC:i})=>({supplierName:s,contractPeriod:o,id:n,capacity:d,MRC:c,NRC:i})),e=p.sortBy(e,"MRC"),e.length){case 1:this.slidesPerView=e.length;break;case 2:this.slidesPerView=e.length;break;case 3:this.slidesPerView=e.length;break;case 4:this.slidesPerView=e.length;break;default:this.slidesPerView=Math.min(3,e.length);break}return this.resetSlides(),console.log(e),e},getproviderCardTextColor(){return e=>this.providerCardTextColor[e.toLowerCase().replace(/\s/g,"")]||this.providerCardTextColor.mapchi},getproviderBgColor(){return e=>this.providerCardColor[e.toLowerCase().replace(/\s/g,"")]||this.providerCardColor.mapchi},getproviderCardBg(){return e=>`url(${this.providers[e.toLowerCase().replace(/\s/g,"")]||this.providers.mapchi})`},getproviderThumbLogo(){return e=>this.providers[e.toLowerCase().replace(/\s/g,"")]||this.providers.mapchi},getUniqueTerm(){let e=[];return e=p.filter(this.selectedServices,{supplierName:this.selectedProvider}),e=p(e).sortBy("contractPeriod").map("contractPeriod").uniq().value(),e!=null&&(e.length>=2?(this.selectedTerm=0,this.selectedTerm=e[1]):(this.selectedTerm=0,this.selectedTerm=e[0])),e}},methods:{filterByMonths(e){console.log(e),this.selectedTerm=e,this.mySwiper1&&this.mySwiper1.slideTo(0,0)},initSwiper(){this.mySwiper1=new H(this.$refs.swiper1,{modules:[Q,Y],spaceBetween:10,slidesPerView:this.slidesPerView<=3?this.slidesPerView:3,slidesPerGroup:3,navigation:{nextEl:this.$refs.swiperbuttonnext1,prevEl:this.$refs.swiperbuttonprev1},on:{init:function(){var e=document.querySelector(".swiper-container");e==null||e.addEventListener("DOMSubtreeModified",function(){for(var s=document.querySelectorAll(".swiper-slide"),o=3;o<s.length;o++)s[o].classList.add("swiper-slide-hidden")})}}}),this.mySwiper1.on("slideChange",()=>{for(var e=document.querySelectorAll(".swiper-slide"),s=this.mySwiper1.activeIndex,o=0;o<e.length;o++)o<s||o>s+2?e[o].classList.add("swiper-slide-hidden"):e[o].classList.remove("swiper-slide-hidden")})},closeModal(){this.$emit("close")},selectProduct(e){this.selectedProduct=e.product,this.selectedServices=p.filter(this.apiResults,{product:this.selectedProduct})},selectProvider(e,s){this.selectedProvider=[],this.selectedSupplier.forEach(o=>{o.selected=!1}),e.selected=!0,this.selectedProvider=e.supplierName,this.providerIndex=s},selectPackage(e){e.selected=!0,this.selectedPackage=e.MRC},goBack(){},goContinue(){this.$emit("stepProvider",this.selectedServices,this.selectedProvider,this.providerIndex)},handleSwiperClick(){},resetSlides(){document.documentElement.style.setProperty("--transform-providerCardIconColor",this.providerCardIconColor),document.documentElement.style.setProperty("--transform-providerCardIconColorBackground",this.providerCardIconColorBackground),this.initSwiper(),this.selectedSupplier.length<=3?document.documentElement.style.setProperty("--opacity","0"):this.selectedSupplier.length>3&&document.documentElement.style.setProperty("--opacity","1"),document.documentElement.style.setProperty("--size",this.thumbsize+"%")},async getOnlySelectedService(){this.selectedServices=[],console.log(this.prodAvail),this.selectedProduct===""&&this.filteredProdAvail.length!==0&&this.filteredProdAvail.length!==null&&(this.selectedProduct=this.filteredProdAvail[0].product),console.log(this.apiResults),console.log(this.providerIndexBack),this.providerIndexBack&&(this.providerIndex=this.providerIndexBack,this.selectedProvider=this.selectedProviderBack),this.selectedServices=p.filter(this.apiResults,{product:this.selectedProduct})}}}),q=e=>(N("data-v-7131cb75"),e=e(),z(),e),Xr={class:"signup-modal"},Jr={class:"modal-header"},Qr=q(()=>t("dt",null,[t("span",{class:"pl-2 textSecure scale-125 material-symbols-outlined"}," lock "),t("span",{class:"textSecure"},"Secure")],-1)),Yr={class:"providerH"},ea=q(()=>t("dd",null,"Choose a provider",-1)),ta={class:"providerfloat"},sa=["onClick"],oa={class:"icon"},ia=["href"],ra={class:"button-text"},aa={class:"modal-close"},na={class:"modal-body"},la={class:"swiper-container"},da={style:{visibility:"hidden"},class:"filter-container"},ca={class:"pr-2"},pa=q(()=>t("span",{class:"material-icons-outlined"},"calendar_today",-1)),ua=q(()=>t("span",{class:"pr-2"},"12 Months",-1)),ha=[pa,ua],ma={class:"swiper-wrapper"},va=["slideKey","onClick"],ga={class:"container"},fa={class:"provider-logo"},ya={class:"signup-icon"},_a=["src"],ba={class:"card-footer"},wa=M("Starting from "),Sa={ref:"swiperbuttonnext1",class:"swiper-button-next"},ka={ref:"swiperbuttonprev1",class:"swiper-button-prev"},Ca=q(()=>t("div",{style:{visibility:"hidden"},class:"filter-container"},[t("div",{class:"view-all-container"},[t("p",{class:"view-all"},"View all speed options."),t("p",{class:"view-allimage"})])],-1)),xa={class:"modal-footer"},$a=q(()=>t("span",null,"Back",-1)),Pa=[$a],Ta=q(()=>t("span",null,"Continue",-1)),La=[Ta],Ma=q(()=>t("span",null,"Continue",-1)),Aa=[Ma],Ia=A(`<svg width="0" height="0" style="display:none;" data-v-7131cb75><symbol viewBox="0 0 50 39" id="provider-slow" data-v-7131cb75><path d="M16.5438275,2.6353057 C25.7888275,-1.3236943 36.5338275,1.0803057 43.2038275,8.5993057 C49.8748275,16.1193057 50.9698275,27.0623057 45.9208275,35.7513057 C45.0918275,37.1853057 43.5648275,38.0723057 41.9078275,38.0823057 L9.59082745,38.0823057 L9.20682745,38.0673057 C7.96182745,37.9703057 6.81782745,37.3723057 6.01882745,36.4293057 C5.83682745,36.2693057 5.67082745,36.0893057 5.54282745,35.8693057 C4.94882745,34.8513057 4.42882745,33.7793057 3.99682745,32.6813057 C3.53082745,31.4993057 4.11182745,30.1643057 5.29382745,29.6993057 C6.47682745,29.2333057 7.81182745,29.8143057 8.27682745,30.9963057 C8.45882745,31.4573057 8.66182745,31.9123057 8.88082745,32.3593057 L8.89082745,32.3493057 C9.29882745,33.1143057 10.0988275,33.5903057 10.9678275,33.5843057 L40.4838275,33.5843057 L40.7718275,33.5673057 C41.3938275,33.4913057 41.9478275,33.1583057 42.3278275,32.6653057 C46.0008275,25.5013057 44.6428275,16.6313057 38.9168275,10.9053057 C36.2748275,8.2633057 32.9818275,6.5103057 29.4008275,5.7933057 C29.3618275,5.7853057 29.3228275,5.7793057 29.2838275,5.7723057 C28.8048275,5.6793057 28.3198275,5.6133057 27.8318275,5.5573057 C27.6758275,5.5413057 27.5208275,5.5193057 27.3638275,5.5063057 C26.9338275,5.4683057 26.5008275,5.4523057 26.0668275,5.4433057 C25.6198275,5.4373057 25.1728275,5.4453057 24.7228275,5.4723057 C24.7028275,5.4733057 24.6828275,5.4743057 24.6628275,5.4753057 C24.2438275,5.5013057 23.8238275,5.5403057 23.4038275,5.5953057 C21.7088275,5.7943057 20.0518275,6.2333057 18.4808275,6.9003057 L18.1928275,7.0183057 C18.1658275,7.0273057 18.1378275,7.0273057 18.1108275,7.0353057 C16.0328275,7.9573057 14.1138275,9.2493057 12.4588275,10.9053057 C10.6588275,12.7043057 9.27082745,14.8013057 8.32982745,17.1383057 C7.85682745,18.3163057 6.51782745,18.8893057 5.33782745,18.4133057 C4.15882745,17.9393057 3.58782745,16.5993057 4.06282745,15.4213057 C5.23482745,12.5053057 6.96582745,9.8923057 9.20582745,7.6523057 C11.2198275,5.6373057 13.5238275,4.0963057 15.9748275,2.9743057 C16.1458275,2.8373057 16.3348275,2.7213057 16.5438275,2.6353057 Z M25.3582951,18.4976948 L25.5937677,18.5037208 C27.3140523,18.587874 28.8826588,19.5463331 29.74728,21.0575012 L29.8703916,21.2857404 C30.6500025,22.822873 30.6070067,24.6601581 29.7444064,26.1616466 L29.6138776,26.3762423 C28.7569143,27.7102227 27.3321033,28.5625371 25.7662422,28.6893117 L25.3505506,28.7060903 L-3.88578059e-16,23.5507704 L25.3582951,18.4976948 Z" data-v-7131cb75></path></symbol></svg><svg width="0" height="0" style="display:none;" data-v-7131cb75><symbol viewBox="0 0 16 26" id="speed-down" data-v-7131cb75><polygon points="7 0 7 22.17 1.42 16.58 0 18 8 26 16 18 14.59 16.59 9 22.17 9 0" data-v-7131cb75></polygon></symbol></svg><svg width="0" height="0" style="display:none;" data-v-7131cb75><symbol viewBox="0 0 16 26" id="speed-up" data-v-7131cb75><polygon points="7 26 7 3.83 1.42 9.42 0 8 8 0 16 8 14.59 9.41 9 3.83 9 26" data-v-7131cb75></polygon></symbol></svg><svg width="0" height="0" style="display:none;" data-v-7131cb75><symbol viewBox="0 0 64 64" id="fibre" data-v-7131cb75><g transform="translate(0.000000,64.000000) scale(0.100000,-0.100000)" data-v-7131cb75><path d="M60 500 l0 -40 50 0 50 0 0 40 0 40 -50 0 -50 0 0 -40z" data-v-7131cb75></path><path d="M190 510 c0 -19 7 -20 180 -20 l180 0 0 -140 0 -140 -200 0 c-194 0\r
-200 -1 -200 -20 0 -20 5 -21 220 -19 l220 2 0 179 0 178 -200 0 c-193 0 -200\r
-1 -200 -20z" data-v-7131cb75></path><path d="M50 390 c0 -39 4 -53 20 -62 18 -12 20 -24 20 -135 0 -116 1 -123 20\r
-123 19 0 20 7 20 123 0 111 2 123 20 135 16 9 20 23 20 62 0 43 -3 50 -20 50\r
-16 0 -20 -7 -20 -30 0 -23 -4 -30 -20 -30 -16 0 -20 7 -20 30 0 23 -4 30 -20\r
30 -17 0 -20 -7 -20 -50z" data-v-7131cb75></path><path d="M277 130 c-3 -13 -14 -20 -30 -20 -14 0 -35 -9 -48 -20 l-24 -19 135\r
0 135 0 -24 19 c-13 11 -34 20 -47 20 -12 0 -27 6 -31 13 -4 8 -20 17 -34 20\r
-21 5 -28 3 -32 -13z" data-v-7131cb75></path></g></symbol></svg><svg width="0" height="0" style="display:none;" data-v-7131cb75><symbol viewBox="0 0 50 50" id="fibre1" data-v-7131cb75><g transform="translate(0.000000,50.000000) scale(0.100000,-0.100000)" fill="#000000" stroke="none" data-v-7131cb75><path d="M70 465 c0 -12 20 -15 120 -15 100 0 120 3 120 15 0 13 -20 15 -120\r
15 -100 0 -120 -2 -120 -15z" data-v-7131cb75></path><path d="M20 235 l0 -195 70 0 c40 0 70 -4 70 -10 0 -6 60 -10 160 -10 107 0\r
160 4 160 11 0 23 -21 47 -50 59 -27 11 -31 17 -25 39 4 14 9 47 12 72 4 44 3\r
48 -26 65 -30 18 -31 20 -31 91 l0 73 -170 0 -170 0 0 -195z m100 135 c0 -5\r
-9 -10 -20 -10 -11 0 -20 5 -20 10 0 6 9 10 20 10 11 0 20 -4 20 -10z m90 0\r
c0 -5 -9 -10 -20 -10 -11 0 -20 5 -20 10 0 6 9 10 20 10 11 0 20 -4 20 -10z\r
m90 0 c0 -5 -9 -10 -20 -10 -11 0 -20 5 -20 10 0 6 9 10 20 10 11 0 20 -4 20\r
-10z m-180 -50 c0 -5 -9 -10 -20 -10 -11 0 -20 5 -20 10 0 6 9 10 20 10 11 0\r
20 -4 20 -10z m90 0 c0 -5 -9 -10 -20 -10 -11 0 -20 5 -20 10 0 6 9 10 20 10\r
11 0 20 -4 20 -10z m90 0 c0 -5 -9 -10 -20 -10 -11 0 -20 5 -20 10 0 6 9 10\r
20 10 11 0 20 -4 20 -10z m-180 -50 c0 -5 -9 -10 -20 -10 -11 0 -20 5 -20 10\r
0 6 9 10 20 10 11 0 20 -4 20 -10z m90 0 c0 -5 -9 -10 -20 -10 -11 0 -20 5\r
-20 10 0 6 9 10 20 10 11 0 20 -4 20 -10z m95 -3 c15 -12 17 -22 11 -63 -15\r
-96 -13 -107 15 -121 15 -7 32 -20 39 -28 11 -13 0 -15 -90 -15 -90 0 -101 2\r
-90 15 7 8 24 21 39 28 29 14 39 50 20 73 -20 24 -22 84 -3 105 20 22 34 24\r
59 6z m80 -20 c18 -14 18 -21 -1 -123 -5 -28 -2 -33 30 -48 45 -21 54 -36 22\r
-36 -13 0 -37 12 -53 28 -16 15 -38 32 -48 38 -18 10 -19 15 -7 46 6 19 12 48\r
12 65 0 44 13 53 45 30z m-265 -27 c0 -5 -9 -10 -20 -10 -11 0 -20 5 -20 10 0\r
6 9 10 20 10 11 0 20 -4 20 -10z m90 0 c0 -5 -9 -10 -20 -10 -11 0 -20 5 -20\r
10 0 6 9 10 20 10 11 0 20 -4 20 -10z m-90 -50 c0 -5 -9 -10 -20 -10 -11 0\r
-20 5 -20 10 0 6 9 10 20 10 11 0 20 -4 20 -10z m90 0 c0 -5 -9 -10 -20 -10\r
-11 0 -20 5 -20 10 0 6 9 10 20 10 11 0 20 -4 20 -10z m-90 -50 c0 -5 -9 -10\r
-20 -10 -11 0 -20 5 -20 10 0 6 9 10 20 10 11 0 20 -4 20 -10z m90 0 c0 -5 -9\r
-10 -20 -10 -11 0 -20 5 -20 10 0 6 9 10 20 10 11 0 20 -4 20 -10z" data-v-7131cb75></path></g></symbol></svg><svg width="0" height="0" style="display:none;" data-v-7131cb75><symbol viewBox="0 0 100 100" id="wireless" data-v-7131cb75><g transform="translate(0.000000, 100.000000) scale(0.100000,-0.100000)" data-v-7131cb75><path d="M170 970 c-48 -67 -64 -121 -64 -210 0 -72 4 -94 28 -147 32 -71 61\r
-102 77 -86 8 8 3 23 -16 51 -72 109 -73 244 -3 354 27 43 30 68 8 68 -5 0\r
-18 -13 -30 -30z" data-v-7131cb75></path><path d="M785 990 c-4 -6 7 -32 23 -58 70 -110 69 -245 -3 -354 -19 -28 -24\r
-43 -16 -51 16 -16 45 15 75 82 50 112 44 231 -17 331 -33 55 -50 69 -62 50z" data-v-7131cb75></path><path d="M282 898 c-29 -47 -46 -122 -38 -173 7 -52 40 -123 61 -131 30 -12\r
31 8 4 62 -37 73 -38 132 -4 200 14 27 25 55 25 62 0 24 -29 12 -48 -20z" data-v-7131cb75></path><path d="M670 918 c0 -7 11 -35 25 -62 34 -68 33 -127 -4 -200 -22 -44 -26\r
-59 -15 -63 19 -7 32 4 56 50 33 62 32 166 -3 232 -24 47 -59 73 -59 43z" data-v-7131cb75></path><path d="M463 828 c-12 -6 -27 -24 -34 -40 -10 -25 -9 -35 5 -65 l17 -35 -121\r
-318 c-66 -175 -120 -324 -120 -333 0 -22 26 -40 49 -32 11 3 27 24 36 48 l16\r
42 162 44 c89 24 167 45 172 47 6 2 25 -36 44 -86 23 -61 39 -91 53 -95 22 -8\r
48 10 48 32 0 9 -54 158 -120 333 l-121 318 17 35 c14 30 15 40 5 65 -12 28\r
-48 53 -74 51 -7 0 -22 -5 -34 -11z m65 -305 c12 -31 19 -60 16 -64 -6 -10\r
-96 -40 -102 -34 -6 6 49 155 58 155 4 0 17 -26 28 -57z m68 -179 c8 -20 14\r
-37 12 -39 -2 -2 -30 7 -63 20 l-60 22 35 16 c51 23 59 21 76 -19z m-69 -94\r
c4 0 3 -4 -3 -9 -8 -8 -150 -51 -168 -51 -8 0 -1 26 20 77 l13 33 66 -25 c36\r
-14 69 -25 72 -25z" data-v-7131cb75></path></g></symbol></svg><svg width="0" height="0" style="display:none;" data-v-7131cb75><symbol viewBox="0 0 100 100" id="lte" data-v-7131cb75><g transform="translate(0.000000,100.000000) scale(0.100000,-0.100000)" data-v-7131cb75><path d="M244 968 c-12 -5 -27 -21 -33 -34 -15 -35 -15 -833 0 -867 19 -43 46\r
-47 289 -47 243 0 270 4 289 47 7 16 11 143 11 390 l0 367 -78 78 -78 78 -190\r
-1 c-108 0 -198 -5 -210 -11z m156 -448 c0 -93 11 -100 160 -100 l120 0 0 -60\r
0 -60 -130 0 -130 0 0 38 c0 48 -14 62 -62 62 l-38 0 0 78 c0 86 8 102 52 102\r
28 0 28 -1 28 -60z m80 -1 c0 -52 -2 -60 -17 -57 -14 2 -19 15 -21 61 -3 52\r
-1 57 18 57 18 0 20 -6 20 -61z m80 1 c0 -53 -2 -60 -20 -60 -18 0 -20 7 -20\r
60 0 53 2 60 20 60 18 0 20 -7 20 -60z m108 48 c7 -7 12 -34 12 -60 l0 -48\r
-40 0 -40 0 0 60 c0 59 0 60 28 60 15 0 33 -5 40 -12z m-288 -308 c0 -90 -2\r
-100 -18 -100 -34 0 -42 21 -42 112 l0 88 30 0 30 0 0 -100z m100 -50 c0 -49\r
-1 -50 -30 -50 -29 0 -30 1 -30 50 0 49 1 50 30 50 29 0 30 -1 30 -50z m80 0\r
c0 -43 -3 -50 -20 -50 -17 0 -20 7 -20 50 0 43 3 50 20 50 17 0 20 -7 20 -50z\r
m120 12 c0 -45 -14 -62 -52 -62 -27 0 -28 2 -28 50 l0 50 40 0 c40 0 40 0 40\r
-38z" data-v-7131cb75></path></g></symbol></svg><svg width="0" height="0" style="display:none;" data-v-7131cb75><symbol viewBox="0 0 64 64" id="gpon" data-v-7131cb75><g transform="translate(0.000000,64.000000) scale(0.100000,-0.100000)" data-v-7131cb75><path d="M162 464 c-84 -69 -150 -130 -147 -135 16 -25 58 -2 178 96 l127 105\r
127 -105 c119 -98 162 -121 178 -96 3 5 -15 26 -40 46 -45 37 -45 38 -45 101\r
l0 64 -44 0 c-40 0 -45 -3 -48 -25 -3 -25 -4 -25 -65 25 -34 27 -63 50 -65 49\r
-2 0 -72 -56 -156 -125z" data-v-7131cb75></path><path d="M198 394 l-118 -95 0 -119 0 -120 157 0 c155 0 156 0 138 20 -13 15\r
-31 20 -67 20 l-48 0 0 90 c0 88 0 90 24 90 13 0 43 9 67 20 27 12 66 20 99\r
20 l55 0 -90 85 c-49 46 -92 84 -95 84 -3 0 -58 -43 -122 -95z" data-v-7131cb75></path><path d="M353 269 c-48 -24 -68 -43 -58 -59 4 -7 16 -4 33 8 71 50 170 53 247\r
8 36 -21 45 -23 54 -12 9 11 6 18 -16 33 -69 48 -187 58 -260 22z" data-v-7131cb75></path><path d="M381 200 c-41 -19 -43 -22 -29 -37 15 -14 18 -14 39 1 30 20 105 21\r
143 1 23 -12 31 -13 37 -3 12 19 -45 50 -99 55 -33 3 -60 -3 -91 -17z" data-v-7131cb75></path><path d="M445 142 c-24 -5 -46 -22 -41 -31 2 -3 28 -6 58 -6 39 0 53 4 53 14\r
0 16 -40 29 -70 23z" data-v-7131cb75></path><path d="M540 75 c-10 -12 -10 -15 4 -15 9 0 16 7 16 15 0 8 -2 15 -4 15 -2 0\r
-9 -7 -16 -15z" data-v-7131cb75></path><path d="M430 65 c-26 -32 13 -81 48 -59 22 14 27 41 12 59 -16 19 -44 19 -60\r
0z" data-v-7131cb75></path></g></symbol></svg><svg width="0" height="0" style="display:none;" data-v-7131cb75><symbol viewBox="0 0 50 50" id="vsat" data-v-7131cb75><g transform="translate(0.000000,50.000000) scale(0.100000,-0.100000)" data-v-7131cb75><path d="M190 455 l-44 -45 27 -27 27 -28 47 47 47 47 -24 26 c-13 14 -26 25\r
-30 25 -3 0 -26 -20 -50 -45z" data-v-7131cb75></path><path d="M262 387 c-34 -34 -62 -68 -62 -74 0 -7 -9 -17 -21 -23 -19 -11 -19\r
-13 -5 -29 9 -10 16 -24 16 -32 0 -19 20 -39 39 -39 8 0 22 -7 32 -16 16 -14\r
18 -14 29 5 6 12 16 21 23 21 21 0 137 124 137 146 0 26 -80 104 -106 104 -11\r
0 -47 -28 -82 -63z m-9 -135 c17 -20 29 -52 20 -52 -9 0 -73 62 -73 71 0 12\r
38 -2 53 -19z" data-v-7131cb75></path><path d="M400 245 l-44 -45 27 -27 27 -28 47 47 47 47 -24 26 c-13 14 -26 25\r
-30 25 -3 0 -26 -20 -50 -45z" data-v-7131cb75></path><path d="M0 128 c0 -53 75 -128 128 -128 34 0 26 17 -11 24 -41 8 -85 51 -93\r
94 -7 37 -24 43 -24 10z" data-v-7131cb75></path><path d="M78 144 c-10 -16 11 -54 34 -63 32 -12 46 -1 18 14 -13 7 -28 22 -35\r
35 -7 12 -15 19 -17 14z" data-v-7131cb75></path></g></symbol></svg>`,9);function Ba(e,s,o,n,d,c){return a(),l(g,null,[t("div",Xr,[t("div",Jr,[t("dl",null,[Qr,t("div",Yr,[ea,t("div",ta,[(a(!0),l(g,null,b(e.filteredProdAvail,(i,r)=>(a(),l("div",{onClick:h=>e.selectProduct(i),key:r},[e.productImages[i.product]?(a(),l("button",{key:0,class:L(["round-button",{selected:i.product===e.selectedProduct}])},[(a(),l("svg",oa,[t("use",{href:e.productImages[i.product].url},null,8,ia)])),t("span",ra,u(e.productImages[i.product].type),1)],2)):m("",!0)],8,sa))),128))])])]),t("div",aa,[t("span",{title:"Restart",class:"scale-90 material-symbols-outlined",onClick:s[0]||(s[0]=(...i)=>e.closeModal&&e.closeModal(...i))},"restart_alt")])])]),t("div",na,[t("div",la,[t("div",{ref:"swiper1",class:"swiper mySwiper border",onClick:s[2]||(s[2]=(...i)=>e.handleSwiperClick&&e.handleSwiperClick(...i))},[t("div",da,[t("div",ca,[t("button",{class:"calendar-button",onClick:s[1]||(s[1]=i=>e.filterByMonths(12))},ha)])]),t("div",ma,[(a(!0),l(g,null,b(e.getUniqueSupplier,(i,r)=>(a(),l("div",{class:"swiper-slide",key:i.supplierName,slideKey:r,onClick:h=>e.selectProvider(i,r)},[t("div",{class:L(["fibre-provider-card",{selected:i.supplierName===e.selectedProvider}])},[t("div",ga,[t("div",fa,[t("span",ya,[t("img",{src:e.getproviderThumbLogo(i.supplierName)},null,8,_a)])]),t("div",ba,[t("p",null,[wa,t("span",null,u(i.price),1)])])])],2)],8,va))),128))]),t("div",Sa,null,512),t("div",ka,null,512),Ca],512)])]),t("div",xa,[t("button",{class:"signup-button ghost",onClick:s[3]||(s[3]=(...i)=>e.goBack&&e.goBack(...i))},Pa),e.continueButtonDisabled?(a(),l("button",{key:1,class:"signup-button disabled",onClick:s[5]||(s[5]=(...i)=>e.goContinue&&e.goContinue(...i))},Aa)):(a(),l("button",{key:0,class:"signup-button primary",onClick:s[4]||(s[4]=(...i)=>e.goContinue&&e.goContinue(...i))},La))]),Ia],64)}var Na=k(Zr,[["render",Ba],["__scopeId","data-v-7131cb75"]]);function pe(){const e=JSON.parse(localStorage.getItem("session")),s=30*1e3,o=Date.now();return!e||o-e.timestamp>s?(localStorage.removeItem("session"),!1):!0}let W,ae;async function ue(e){let s=!0;try{const o={id:e},n=await _.post("https://adapi.pindrop.co.za/advanced/requestOptions",o);return s=!1,n.data.optionalResults}catch(o){if(s)await za(),ue(e);else return console.error("Error fetching order add-ons:",o),[]}}async function za(){if(W&&Date.now()<ae)return W;const e={username:"testapi@pindrop.co.za",password:"Pindrop1@"};try{return W=(await _.post("https://adapi.pindrop.co.za/advanced/authorize",e)).data.token,ae=Date.now()+45*60*1e3,_.defaults.headers.common.Token=W,W}catch(s){throw s}}const Oa=C({async mounted(){this.getOnlySelectedService(),this.initSwiper()},props:{selectedResults:Array,providerIndex:Number,selectedDecision:String,auth:Boolean},emits:["stepProviderBack","stepAuth","stepPackage"],components:{},data(){return{abc:!1,isAuthenticated:!1,isAuthenticatedViewAll:!1,step:1,providerz:[{id:1,name:"Provider 1",logo:"https://res.cloudinary.com/vidmax/image/upload/v1669896703/openserve_qowcq7.png",price:"R547.00pm",pricing:[{id:1,name:"Plan A",price:"R547"},{id:2,name:"Plan B",price:"R647"},{id:3,name:"Plan C",price:"R1397"}],selected:!1},{id:2,name:"Provider 2",logo:"https://res.cloudinary.com/vidmax/image/upload/v1680005576/Frogfoot-Logo_ftq44m.svg",price:"R727.00pm",pricing:[{id:1,name:"Plan A",price:"R528"},{id:2,name:"Plan B",price:"R650"},{id:3,name:"Plan C",price:"R1497"}],selected:!1},{id:3,name:"Provider 3",logo:"https://res.cloudinary.com/vidmax/image/upload/v16780005040/Logo-Telecoms_httyjc.svg",price:"R449.00pm",pricing:[{id:1,name:"Plan A",price:"R647"},{id:2,name:"Plan B",price:"R747"},{id:3,name:"Plan C",price:"R1597"}],selected:!1}],selectedProvider:"",supplierName:"",selectedPackage:[],chosenPackage:[],optionalResults:[],formStepsNum:0,formSteps:[],stepBtns:[],toggle:[],edit:[],buy:[],buybottom:[],buyremove:[],disablehover:[],sliderAmount:void 0,mySwiper1:null,mySwiper2:null,slidesPerView:1,basketItems:[],counterCheckoutItems:0,currency:"R",selectedServices:[],ServicesType:"",selectedServiceType:"Select Option",selectedSupplier:[],selectedSpeed:"Select Option",selectedTerm:12,selectedIndex:0,selectedPrice:0,initialSlide:0,thumbsSwiper:null,thumbsize:0,screenwidth:{},internet:!0,transit:!1,ip:!0,slider:{data:[]},providerCardTextColor:{comsol:"#a6a4a6",openserve:"#fff",mtn:"#4B5563",liquidtelecom:"#fff",frogfoot:"#0b2c48",bitco:"#fff",wiocc:"#fff",easyweb:"#fff",meshtelecom:"#fff",dfa:"#fff",linkafrica:"#fff",seacom:"#fff",telkom:"#fff",vodacom:"#fff",metrofibrenetworx:"#0c1c24",vumatelbusiness:"#fff",mtnbusiness:"#0a0804",mapchi:"#fff",metrofibrenetworxftth:"#0c1c24",openserveftth:"#fff"},providerCardColor:{comsol:"#23337b",openserve:"#16b251",mtn:"#fbc404",liquidtelecom:"#ca1c7c",frogfoot:"#2db653",bitco:"#2b3c8a",wiocc:"#23348c",easyweb:"#72acde",meshtelecom:"#a62129",dfa:"#00b500",linkafrica:"#624d89",seacom:"#356692",telkom:"#0884c4",vodacom:"#ec3424",metrofibrenetworx:"#f4561b",vumatelbusiness:"#ee008c",mtnbusiness:"#fbc404",mapchi:"#db2777",metrofibrenetworxftth:"#f4561b",openserveftth:"#16b251"},providers:{comsol:"https://res.cloudinary.com/vidmax/image/upload/v1682437686/Logo_-_Comsol_lca4ks.png",openfibre:"https://res.cloudinary.com/vidmax/image/upload/v1682438031/Logo_-_Open_Fibre_f1eoux.png",openserve:"https://res.cloudinary.com/vidmax/image/upload/v1682438031/Logo_-_Openserve_eyehqo.png",mtn:"https://res.cloudinary.com/vidmax/image/upload/v1682437881/Logo_-_MTN_beeald.png",liquidtelecom:"https://res.cloudinary.com/vidmax/image/upload/v1682437880/Logo_-_Liquid_tn29sj.png",frogfoot:"https://res.cloudinary.com/vidmax/image/upload/v1682437715/Logo_-_Frogfoot_mssugt.png",bitco:"https://res.cloudinary.com/vidmax/image/upload/v1682437714/Logo_-_Bitco_onfyti.png1",wiocc:"https://res.cloudinary.com/vidmax/image/upload/v1677578293/wiocc_rn5zkv.png",easyweb:"https://res.cloudinary.com/vidmax/image/upload/v1682437715/Logo_-_Easyweb_vlm8pn.png",meshtelecom:"https://res.cloudinary.com/vidmax/image/upload/v1682437880/Logo_-_Mesh_Telecom_mezplw.png",dfa:"https://res.cloudinary.com/vidmax/image/upload/v1682431120/Logo_-_DFA_mfkaok.png",linkafrica:"https://res.cloudinary.com/vidmax/image/upload/v1682437880/Logo_-_Link_Africa_mgwbec.png",seacom:"https://res.cloudinary.com/vidmax/image/upload/v1682438031/Logo_-_SEACOM_qqhnfy.png",telkom:"https://res.cloudinary.com/vidmax/image/upload/v1680001038/mapchi-providers/telkom.jpg",vodacom:"https://res.cloudinary.com/vidmax/image/upload/v1682438032/Logo_-_Vodacom_cxrly8.png",metrofibrenetworx:"https://res.cloudinary.com/vidmax/image/upload/v1682435874/Logo_-_MetroFibre_svyoub.png",vumatelbusiness:"https://res.cloudinary.com/vidmax/image/upload/v1680010757/vuma-logo-pink.946d949b_lzhldp.svg",mapchi:"https://res.cloudinary.com/vidmax/image/upload/v1682438031/Logo_-_Pindrop_dislbr.png",mtnbusiness:"https://res.cloudinary.com/vidmax/image/upload/v1682437881/Logo_-_MTN_beeald.png",twoobii:"https://res.cloudinary.com/vidmax/image/upload/v1682438031/Logo_-_Twoobii_dptlrb.png",metrofibrenetworxftth:"https://res.cloudinary.com/vidmax/image/upload/v1682435874/Logo_-_MetroFibre_svyoub.png",openserveftth:"https://res.cloudinary.com/vidmax/image/upload/v1682438031/Logo_-_Open_Fibre_f1eoux.png",thinkfibreftth:"https://res.cloudinary.com/vidmax/image/upload/v1682438031/Logo_-_Thinkspeed_qzfxf9.png"},providerCardIconColor:"#fff",providerCardIconColorBackground:"#92879B"}},created(){if(!pe())this.isAuthenticated=!1,console.log("User needs to authenticate to continue");else{const e=JSON.parse(localStorage.getItem("session")||"{}");this.isAuthenticated=!0,console.log(`Welcome back, ${e.user}!`)}window.addEventListener("resize",()=>{this.screenwidth=window.innerWidth})},watch:{selectedPackage(e){this.fetchOrderAddOns(e)}},computed:{isMobile(){return this.screenwidth<480},total(){return this.basketItems.reduce((e,s)=>e+s.total,0)},test(){return!0},getUniqueSupplier(){let e=[];const s=p.map(this.selectedServices,n=>({supplierName:n.supplierName,MRC:n.MRC,contractPeriod:n.contractPeriod}));console.log(s,"suppliers");const o=p.map(p.groupBy(s,"supplierName"),n=>{const d=p.min(p.flatMap(n,"MRC"));return{supplierName:n[0].supplierName,price:d}});switch(e=p.uniqBy(o,"supplierName"),this.selectedSupplier.length===0&&(e=V.exports.shuffle(e)),console.log(e),e.length){case 1:this.slidesPerView=e.length;break;case 2:this.slidesPerView=e.length;break;case 3:this.slidesPerView=e.length;break;case 4:this.slidesPerView=e.length;break;default:this.slidesPerView=Math.min(3,e.length);break}return this.selectedSupplier=e,this.resetSlides(),e},getBestPriceSupplier(){let e=[];if(e=p.filter(this.selectedServices,{supplierName:this.selectedProvider}),e.length>0){e=p.sortBy(e,"MRC"),e=e.filter(i=>i.capacity<=1e3);let s=e[0].MRC,o=Math.min(e[e.length-1].MRC);const n=e.filter(i=>i.capacity<=100&&i.MRC!=s),d=Math.floor(Math.random()*(n.length-1))+1,c=e[d];this.chosenPackage=c,this.selectedPackage=c.id,this.selectedTerm=c.contractPeriod,e=[e[0],c,te(J({},e[e.length-1]),{MRC:o})]}switch(e.length){case 1:this.slidesPerView=e.length;break;case 2:this.slidesPerView=e.length;break;case 3:this.slidesPerView=e.length;break;case 4:this.slidesPerView=e.length;break;default:this.slidesPerView=Math.min(3,e.length);break}return this.resetSlides(),console.log(e),e},getUniquePriceSupplier(){let e=[];switch(e=p.filter(this.selectedServices,{supplierName:this.selectedProvider,contractPeriod:this.selectedTerm}),e=e.map(({supplierName:s,contractPeriod:o,id:n,capacity:d,MRC:c,NRC:i})=>({supplierName:s,contractPeriod:o,id:n,capacity:d,MRC:c,NRC:i})),e=p.sortBy(e,"MRC"),this.selectedIndex=e.findIndex(s=>s.id===this.selectedPackage),console.log(this.selectedIndex),e.length){case 1:this.slidesPerView=e.length;break;case 2:this.slidesPerView=e.length;break;case 3:this.slidesPerView=e.length;break;case 4:this.slidesPerView=e.length;break;default:this.slidesPerView=Math.min(3,e.length);break}return console.log(e),e},getproviderCardTextColor(){return e=>this.providerCardTextColor[e.toLowerCase().replace(/\s/g,"")]||this.providerCardTextColor.mapchi},getproviderBgColor(){return e=>this.providerCardColor[e.toLowerCase().replace(/\s/g,"")]||this.providerCardColor.mapchi},getproviderCardBg(){return e=>`url(${this.providers[e.toLowerCase().replace(/\s/g,"")]||this.providers.mapchi})`},getproviderThumbLogo(){return e=>this.providers[e.toLowerCase().replace(/\s/g,"")]||this.providers.mapchi},getUniqueTerm(){let e=[];return e=p.filter(this.selectedServices,{supplierName:this.selectedProvider}),e=p(e).sortBy("contractPeriod").map("contractPeriod").uniq().value(),e}},methods:{async fetchOrderAddOns(e){const s=e;this.optionalResults=await ue(s),console.log(this.optionalResults)},filterByMonths(e){console.log(e),this.selectedTerm=e,this.mySwiper1&&(this.resetSlides(),this.mySwiper1.slideTo(0,0))},initSwiper(){this.mySwiper1=new H(this.$refs.swiper1,{modules:[Q,Y],spaceBetween:20,slidesPerView:this.slidesPerView<=3?this.slidesPerView:3,slidesPerGroup:3,navigation:{nextEl:this.$refs.swiperbuttonnext1,prevEl:this.$refs.swiperbuttonprev1},on:{init:function(){var e=document.querySelector(".swiper-container");e==null||e.addEventListener("DOMSubtreeModified",function(){for(var s=document.querySelectorAll(".swiper-slide"),o=3;o<s.length;o++)s[o].classList.add("swiper-slide-hidden")})}}}),this.mySwiper1.on("slideChange",()=>{for(var e=document.querySelectorAll(".swiper-slide"),s=this.mySwiper1.activeIndex,o=0;o<e.length;o++)o<s||o>s+2?e[o].classList.add("swiper-slide-hidden"):e[o].classList.remove("swiper-slide-hidden")})},closeModal(){},selectProvider(e,s){this.selectedSupplier.forEach(o=>{o.selected=!1}),e.selected=!0,this.selectedProvider=e.supplierName},selectPackage(e){this.chosenPackage=e,this.selectedPackage=e.id,this.fetchOrderAddOns(this.selectedPackage),this.mySwiper1.slideTo(this.selectedIndex,0)},viewAll(){this.isAuthenticatedViewAll=!0,this.filterByMonths(this.selectedTerm),this.$nextTick(()=>{this.resetSlides(),this.mySwiper1.slideTo(this.selectedIndex,0)})},loginviewAll(){this.$emit("stepAuth",this.isAuthenticated)},goBack(){console.log(this.providerIndex),this.$emit("stepProviderBack",this.providerIndex,this.selectedProvider)},goContinue(){this.$emit("stepPackage",this.chosenPackage,this.optionalResults)},resetSlides(){document.documentElement.style.setProperty("--transform-providerCardIconColor",this.providerCardIconColor),document.documentElement.style.setProperty("--transform-providerCardIconColorBackground",this.providerCardIconColorBackground),this.initSwiper(),this.selectedSupplier.length<=3?document.documentElement.style.setProperty("--opacity","0"):this.selectedSupplier.length>3&&document.documentElement.style.setProperty("--opacity","1"),document.documentElement.style.setProperty("--size",this.thumbsize+"%")},async getOnlySelectedService(){this.selectedServices=[],console.log(this.selectedResults),console.log(this.providerIndex),console.log(this.selectedDecision),this.selectedServices=this.selectedResults,this.supplierName=this.selectedDecision,this.selectedProvider=this.selectedDecision}}}),$=e=>(N("data-v-131c7bf0"),e=e(),z(),e),Va={class:"signup-modal"},Ra={class:"modal-header"},qa=$(()=>t("dl",null,[t("dt",null,[t("span",{class:"pl-2 textSecure scale-125 material-symbols-outlined"}," lock "),t("span",{class:"textSecure"},"Secure")]),t("dd",null,"Choose a package")],-1)),Ea={class:"modal-close"},Fa={class:"modal-body"},Da={class:"swiper-container"},Ua={ref:"swiper1",class:"swiper mySwiper"},ja={class:"filter-container"},Ga=$(()=>t("span",{class:"material-icons pr-1"},"verified",-1)),Ka=$(()=>t("button",null,"view all results ",-1)),Wa=[Ga,Ka],Ha=$(()=>t("span",{class:"material-symbols-outlined pr-1"},"lock",-1)),Za=$(()=>t("button",null,"Login to view more",-1)),Xa=[Ha,Za],Ja=["onClick"],Qa=$(()=>t("span",{class:"material-symbols-outlined"},"calendar_today",-1)),Ya={key:0,class:"pr-2"},en={key:1,class:"pr-2"},tn={class:"swiper-wrapper"},sn=["slideKey","onClick"],on={key:0},rn=$(()=>t("div",{class:"icon"},[t("i",{class:"scale-100 material-symbols-outlined"},"info")],-1)),an=[rn],nn=$(()=>t("div",{class:"speed-icon"},[t("svg",{width:"40px",height:"35px"},[t("use",{href:"#provider-slow"})])],-1)),ln={class:"card-price"},dn=$(()=>t("sup",{class:"up"},"pm",-1)),cn={class:"card-footer"},pn={class:"speed"},un=$(()=>t("dt",null,[t("span",{class:"signup-icon"},[t("svg",null,[t("use",{href:"#speed-down"})])])],-1)),hn={class:"speed"},mn=$(()=>t("dt",null,[t("span",{class:"signup-icon"},[t("svg",null,[t("use",{href:"#speed-up"})])])],-1)),vn=["slideKey","onClick"],gn=A('<div class="insidepackage" data-v-131c7bf0><div class="icon" data-v-131c7bf0><i class="scale-100 material-symbols-outlined" data-v-131c7bf0>info</i></div></div><div class="speed-icon" data-v-131c7bf0><svg width="40px" height="35px" data-v-131c7bf0><use href="#provider-slow" data-v-131c7bf0></use></svg></div>',2),fn={class:"card-price"},yn=$(()=>t("sup",{class:"up"},"pm",-1)),_n={class:"card-footer"},bn={class:"speed"},wn=$(()=>t("dt",null,[t("span",{class:"signup-icon"},[t("svg",null,[t("use",{href:"#speed-down"})])])],-1)),Sn={class:"speed"},kn=$(()=>t("dt",null,[t("span",{class:"signup-icon"},[t("svg",null,[t("use",{href:"#speed-up"})])])],-1)),Cn={class:"filter-container"},xn={class:"view-all-container"},$n={class:"view-allimage"},Pn=["src"],Tn={class:"modal-footer"},Ln=$(()=>t("span",null,"Back",-1)),Mn=[Ln],An=$(()=>t("span",null,"Continue",-1)),In=[An],Bn=A('<svg width="0" height="0" style="display:none;" data-v-131c7bf0><symbol viewBox="0 0 50 39" id="provider-slow" data-v-131c7bf0><path d="M16.5438275,2.6353057 C25.7888275,-1.3236943 36.5338275,1.0803057 43.2038275,8.5993057 C49.8748275,16.1193057 50.9698275,27.0623057 45.9208275,35.7513057 C45.0918275,37.1853057 43.5648275,38.0723057 41.9078275,38.0823057 L9.59082745,38.0823057 L9.20682745,38.0673057 C7.96182745,37.9703057 6.81782745,37.3723057 6.01882745,36.4293057 C5.83682745,36.2693057 5.67082745,36.0893057 5.54282745,35.8693057 C4.94882745,34.8513057 4.42882745,33.7793057 3.99682745,32.6813057 C3.53082745,31.4993057 4.11182745,30.1643057 5.29382745,29.6993057 C6.47682745,29.2333057 7.81182745,29.8143057 8.27682745,30.9963057 C8.45882745,31.4573057 8.66182745,31.9123057 8.88082745,32.3593057 L8.89082745,32.3493057 C9.29882745,33.1143057 10.0988275,33.5903057 10.9678275,33.5843057 L40.4838275,33.5843057 L40.7718275,33.5673057 C41.3938275,33.4913057 41.9478275,33.1583057 42.3278275,32.6653057 C46.0008275,25.5013057 44.6428275,16.6313057 38.9168275,10.9053057 C36.2748275,8.2633057 32.9818275,6.5103057 29.4008275,5.7933057 C29.3618275,5.7853057 29.3228275,5.7793057 29.2838275,5.7723057 C28.8048275,5.6793057 28.3198275,5.6133057 27.8318275,5.5573057 C27.6758275,5.5413057 27.5208275,5.5193057 27.3638275,5.5063057 C26.9338275,5.4683057 26.5008275,5.4523057 26.0668275,5.4433057 C25.6198275,5.4373057 25.1728275,5.4453057 24.7228275,5.4723057 C24.7028275,5.4733057 24.6828275,5.4743057 24.6628275,5.4753057 C24.2438275,5.5013057 23.8238275,5.5403057 23.4038275,5.5953057 C21.7088275,5.7943057 20.0518275,6.2333057 18.4808275,6.9003057 L18.1928275,7.0183057 C18.1658275,7.0273057 18.1378275,7.0273057 18.1108275,7.0353057 C16.0328275,7.9573057 14.1138275,9.2493057 12.4588275,10.9053057 C10.6588275,12.7043057 9.27082745,14.8013057 8.32982745,17.1383057 C7.85682745,18.3163057 6.51782745,18.8893057 5.33782745,18.4133057 C4.15882745,17.9393057 3.58782745,16.5993057 4.06282745,15.4213057 C5.23482745,12.5053057 6.96582745,9.8923057 9.20582745,7.6523057 C11.2198275,5.6373057 13.5238275,4.0963057 15.9748275,2.9743057 C16.1458275,2.8373057 16.3348275,2.7213057 16.5438275,2.6353057 Z M25.3582951,18.4976948 L25.5937677,18.5037208 C27.3140523,18.587874 28.8826588,19.5463331 29.74728,21.0575012 L29.8703916,21.2857404 C30.6500025,22.822873 30.6070067,24.6601581 29.7444064,26.1616466 L29.6138776,26.3762423 C28.7569143,27.7102227 27.3321033,28.5625371 25.7662422,28.6893117 L25.3505506,28.7060903 L-3.88578059e-16,23.5507704 L25.3582951,18.4976948 Z" data-v-131c7bf0></path></symbol></svg><svg width="0" height="0" style="display:none;" data-v-131c7bf0><symbol viewBox="0 0 16 26" id="speed-down" data-v-131c7bf0><polygon points="7 0 7 22.17 1.42 16.58 0 18 8 26 16 18 14.59 16.59 9 22.17 9 0" data-v-131c7bf0></polygon></symbol></svg><svg width="0" height="0" style="display:none;" data-v-131c7bf0><symbol viewBox="0 0 16 26" id="speed-up" data-v-131c7bf0><polygon points="7 26 7 3.83 1.42 9.42 0 8 8 0 16 8 14.59 9.41 9 3.83 9 26" data-v-131c7bf0></polygon></symbol></svg><svg width="0" height="0" style="display:none;" data-v-131c7bf0><symbol viewBox="0 0 120 14" id="provider-openserve" data-v-131c7bf0><path d="M0 7.038V7C0 3.187 3.073.095 7.17.095c4.098 0 7.133 3.054 7.133 6.867V7c0 3.813-3.073 6.905-7.17 6.905C3.034 13.905 0 10.85 0 7.038zm10.547 0V7c0-1.916-1.385-3.585-3.415-3.585-2.01 0-3.357 1.631-3.357 3.547V7c0 1.916 1.385 3.585 3.395 3.585 2.03 0 3.377-1.631 3.377-3.547zM16.219.36h5.69c3.358 0 5.52 1.726 5.52 4.666v.038c0 3.13-2.409 4.78-5.71 4.78H19.9v3.794h-3.68V.361zm5.425 6.601c1.309 0 2.106-.683 2.106-1.726v-.038c0-1.138-.797-1.745-2.125-1.745h-1.726v3.51h1.745zM28.985.361h10.68v3.13h-7.038V5.5h6.374v2.903h-6.374v2.105h7.133v3.13H28.985V.361zm12.652 0h3.434l5.463 7.019V.36h3.642v13.28h-3.225L45.28 6.354v7.284h-3.643V.361zm13.886 11.306l2.049-2.447c1.308 1.043 2.769 1.593 4.306 1.593.986 0 1.517-.341 1.517-.91v-.039c0-.55-.436-.853-2.238-1.27-2.827-.645-5.008-1.442-5.008-4.174v-.038c0-2.466 1.954-4.249 5.14-4.249 2.258 0 4.022.608 5.464 1.764l-1.84 2.6c-1.215-.855-2.542-1.31-3.718-1.31-.892 0-1.328.38-1.328.854v.038c0 .607.455.873 2.295 1.29 3.054.664 4.951 1.65 4.951 4.135v.038c0 2.713-2.143 4.325-5.368 4.325-2.352 0-4.59-.74-6.222-2.2zM68.896.36h10.68v3.13h-7.038V5.5h6.374v2.903h-6.374v2.105h7.133v3.13H68.896V.361zm12.653 0h6.279c2.03 0 3.433.53 4.325 1.441.778.76 1.176 1.784 1.176 3.092v.038c0 2.03-1.081 3.377-2.732 4.079l3.168 4.628h-4.25l-2.674-4.021H85.23v4.021h-3.68V.361zm6.108 6.373c1.252 0 1.973-.607 1.973-1.574v-.038c0-1.043-.759-1.574-1.992-1.574h-2.409v3.186h2.428zm6.09-6.373h4.115l3.017 8.403 3.016-8.403h4.04l-5.387 13.373h-3.415L93.746.361zm15.478 0h10.68v3.13h-7.038V5.5h6.374v2.903h-6.374v2.105H120v3.13h-10.775V.361z" fill-rule="evenodd" data-v-131c7bf0></path></symbol></svg>',4);function Nn(e,s,o,n,d,c){return a(),l(g,null,[t("div",Va,[t("div",Ra,[qa,t("div",Ea,[t("span",{title:"Restart",class:"scale-90 material-symbols-outlined",onClick:s[0]||(s[0]=(...i)=>e.closeModal&&e.closeModal(...i))},"restart_alt")])])]),t("div",Fa,[t("div",Da,[t("div",Ua,[t("div",ja,[t("div",{class:L(["viewall-button",{hidden:!e.isAuthenticated||e.isAuthenticatedViewAll}]),onClick:s[1]||(s[1]=(...i)=>e.viewAll&&e.viewAll(...i))},Wa,2),t("div",{class:L(["viewall-button",{hidden:e.isAuthenticated}]),onClick:s[2]||(s[2]=(...i)=>e.loginviewAll&&e.loginviewAll(...i))},Xa,2),(a(!0),l(g,null,b(e.getUniqueTerm,(i,r)=>(a(),l("div",{key:r,onClick:h=>e.filterByMonths(i),class:"pr-2"},[t("button",{class:L(["calendar-button",{hidden:!e.isAuthenticatedViewAll,selected:i===e.selectedTerm}])},[Qa,e.getUniqueTerm.length>3?(a(),l("span",Ya,u(i),1)):(a(),l("span",en,u(i)+" Months",1))],2)],8,Ja))),128))]),t("div",tn,[e.isAuthenticatedViewAll?m("",!0):(a(!0),l(g,{key:0},b(e.getBestPriceSupplier,(i,r)=>(a(),l("div",{class:"swiper-slide",key:i.id,slideKey:r,onClick:h=>e.selectPackage(i)},[t("div",{class:L(["fibre-package-card",{selected:i.id===e.selectedPackage}])},[r===1?(a(),l("section",on)):m("",!0),t("div",{class:L(["insidepackage",{hidden:!e.isAuthenticated}])},an,2),nn,t("div",ln,[t("p",null,[M("R"+u(i.MRC)+" ",1),dn])]),t("div",cn,[t("dl",pn,[un,t("dd",null,[t("span",null,u(i.capacity)+"Mbps",1)])]),t("dl",hn,[mn,t("dd",null,[t("span",null,u(i.capacity)+"Mbps",1)])])])],2)],8,sn))),128)),e.isAuthenticatedViewAll?(a(!0),l(g,{key:1},b(e.getUniquePriceSupplier,(i,r)=>(a(),l("div",{class:"swiper-slide",key:i.id,slideKey:r,onClick:h=>e.selectPackage(i)},[t("div",{class:L(["fibre-package-card",{selected:i.id===e.selectedPackage}])},[gn,t("div",fn,[t("p",null,[M("R"+u(i.MRC)+" ",1),yn])]),t("div",_n,[t("dl",bn,[wn,t("dd",null,[t("span",null,u(i.capacity)+"Mbps",1)])]),t("dl",Sn,[kn,t("dd",null,[t("span",null,u(i.capacity)+"Mbps",1)])])])],2)],8,vn))),128)):m("",!0)]),t("div",{ref:"swiperbuttonnext1",class:L(["swiper-button-next",{hidden:!e.isAuthenticatedViewAll}])},null,2),t("div",{ref:"swiperbuttonprev1",class:L(["swiper-button-prev",{hidden:!e.isAuthenticatedViewAll}])},null,2),t("div",Cn,[t("div",xn,[t("p",$n,[t("img",{src:e.getproviderThumbLogo(e.supplierName)},null,8,Pn)])])])],512)])]),t("div",Tn,[t("button",{class:"signup-button ghost",onClick:s[3]||(s[3]=(...i)=>e.goBack&&e.goBack(...i))},Mn),t("button",{class:"signup-button primary",onClick:s[4]||(s[4]=(...i)=>e.goContinue&&e.goContinue(...i))},In)]),Bn],64)}var zn=k(Oa,[["render",Nn],["__scopeId","data-v-131c7bf0"]]);const ne=async e=>{try{const s=await _.get(`shopper/phone/${e}/`),{data:o}=s;if(!o.mobile||!o.email||!o.first_name||!o.last_name)return!1;const{first_name:n,last_name:d,email:c}=o;return{first_name:n,last_name:d,email:c}}catch(s){throw console.error("Error checking shopper existence:",s),s}};const On=C({async mounted(){const e=window.location.hostname;this.widgetURL=V.exports.upperFirst(e),console.log(this.chosenPackage);var s=localStorage.getItem("session");if(s){var o=JSON.parse(s),n=o.user;this.phoneNumber=n,this.shopper=await ne(n)}s&&this.chosenPackage.capacity&&(this.Order=!0,this.addItemToBasket(this.chosenPackage))},props:{chosenPackage:Object,optionalResults:Array},emits:["stepNewAccount","auth","stepNewAccountBack","close"],components:{},data(){return{currency:"R",ServicesType:"",productDescription:"",product:"",isAuthenticated:!1,isChecked:!1,showAddons:!1,selectedAddon:null,showStaticIP:!1,Order:!1,OrderSuccess:!1,addonImages:{Router:{name:"router"},VLAN:{name:"dialer_sip"},"IP Address":{name:"bring_your_own_ip"},Antenna:{name:"settings_input_antenna"}},widgetURL:"",phoneNumber:"",lastname:"",firstname:"",username:"",shopper:null,errors:[],screenwidth:{},counterCheckoutItems:0,basketItems:[],AddonChoice:[],descriptionVisible:!0,providers:{comsol:"https://res.cloudinary.com/vidmax/image/upload/v1682437686/Logo_-_Comsol_lca4ks.png",openfibre:"https://res.cloudinary.com/vidmax/image/upload/v1682438031/Logo_-_Open_Fibre_f1eoux.png",openserve:"https://res.cloudinary.com/vidmax/image/upload/v1682438031/Logo_-_Openserve_eyehqo.png",mtn:"https://res.cloudinary.com/vidmax/image/upload/v1682437881/Logo_-_MTN_beeald.png",liquidtelecom:"https://res.cloudinary.com/vidmax/image/upload/v1682437880/Logo_-_Liquid_tn29sj.png",frogfoot:"https://res.cloudinary.com/vidmax/image/upload/v1682437715/Logo_-_Frogfoot_mssugt.png",bitco:"https://res.cloudinary.com/vidmax/image/upload/v1682437714/Logo_-_Bitco_onfyti.png1",wiocc:"https://res.cloudinary.com/vidmax/image/upload/v1677578293/wiocc_rn5zkv.png",easyweb:"https://res.cloudinary.com/vidmax/image/upload/v1682437715/Logo_-_Easyweb_vlm8pn.png",meshtelecom:"https://res.cloudinary.com/vidmax/image/upload/v1682437880/Logo_-_Mesh_Telecom_mezplw.png",dfa:"https://res.cloudinary.com/vidmax/image/upload/v1682431120/Logo_-_DFA_mfkaok.png",linkafrica:"https://res.cloudinary.com/vidmax/image/upload/v1682437880/Logo_-_Link_Africa_mgwbec.png",seacom:"https://res.cloudinary.com/vidmax/image/upload/v1682438031/Logo_-_SEACOM_qqhnfy.png",telkom:"https://res.cloudinary.com/vidmax/image/upload/v1680001038/mapchi-providers/telkom.jpg",vodacom:"https://res.cloudinary.com/vidmax/image/upload/v1682438032/Logo_-_Vodacom_cxrly8.png",metrofibrenetworx:"https://res.cloudinary.com/vidmax/image/upload/v1682435874/Logo_-_MetroFibre_svyoub.png",vumatelbusiness:"https://res.cloudinary.com/vidmax/image/upload/v1680010757/vuma-logo-pink.946d949b_lzhldp.svg",mapchi:"https://res.cloudinary.com/vidmax/image/upload/v1682438031/Logo_-_Pindrop_dislbr.png",mtnbusiness:"https://res.cloudinary.com/vidmax/image/upload/v1682437881/Logo_-_MTN_beeald.png",twoobii:"https://res.cloudinary.com/vidmax/image/upload/v1682438031/Logo_-_Twoobii_dptlrb.png",metrofibrenetworxftth:"https://res.cloudinary.com/vidmax/image/upload/v1682435874/Logo_-_MetroFibre_svyoub.png",openserveftth:"https://res.cloudinary.com/vidmax/image/upload/v1682438031/Logo_-_Open_Fibre_f1eoux.png",thinkfibreftth:"https://res.cloudinary.com/vidmax/image/upload/v1682438031/Logo_-_Thinkspeed_qzfxf9.png"}}},created(){if(!pe())this.isAuthenticated=!1,this.auth(),console.log("User needs to authenticate to continue");else{const e=JSON.parse(localStorage.getItem("session")||"{}");this.isAuthenticated=!0,console.log(`Welcome back, ${e.user}!`)}window.addEventListener("resize",()=>{this.screenwidth=window.innerWidth})},watch:{isChecked(e){this.checkboxClicked=e}},computed:{isMobile(){return this.screenwidth<480},total(){return this.basketItems.reduce((e,s)=>e+s.total,0)},getproviderThumbLogo(){return e=>this.providers[e.toLowerCase().replace(/\s/g,"")]},checkboxClicked:{get(){return this.isChecked},set(e){this.isChecked=e}},getAddonProducts(){let e=[];this.AddonChoice=[];const s={voice:"VLAN",router:"Router",ip:"IP Address",booster:"Antenna",antenna:"Antenna"};e=this.optionalResults.filter(n=>{const d=n.description.toLowerCase(),c=n.costCode.toLowerCase();return Object.keys(s).some(i=>d.includes(i)||c.includes(i))}).map(n=>{const d=n.description.toLowerCase(),c=n.costCode.toLowerCase(),i=Object.keys(s).find(r=>d.includes(r)||c.includes(r));return te(J({},n),{name:s[i]})}),this.AddonChoice=e;const o=["IP Address","VLAN","Router","Antenna"];return e=p(e).map("name").sortBy(n=>{const d=o.indexOf(n);return d!==-1?d:1/0}).uniq().value(),console.log(e),e},getAddonProductsChoice(){let e=[];return e=this.AddonChoice.filter(s=>s.name===this.selectedAddon),console.log(e),e}},methods:{toggleAddons(){this.showAddons=!this.showAddons},selectAddon(e){this.selectedAddon===e?this.selectedAddon=null:this.selectedAddon=e},async refreshComponent(){this.shopper=await ne(this.phoneNumber)},async submitLead(){if(this.errors=[],console.log(localStorage.getItem("key")),this.errors.length)this.errors.length&&setTimeout(()=>{this.errors=[]},3e3);else{const e={order_id:"123456",name:this.shopper.first_name,surname:this.shopper.last_name,email:this.shopper.email};await _.post("/send-email/",e).then(s=>{console.log(s.data)}).catch(s=>{if(s.response)for(const o in s.response.data)this.username="",this.errors.push(`${o}: ${s.response.data[o]}`);else s.message&&(this.username="",this.errors.push("Something went wrong. Please try again!"))})}},async submitForm(){if(this.errors=[],this.firstname===""&&this.errors.push("Please enter your first name."),this.lastname===""&&this.errors.push("Please enter your last name."),this.username===""?this.errors.push("Please fill in a valid email address."):/\S+@\S+\.\S+/.test(this.username)||this.errors.push("Please enter a valid email address."),this.errors.length)this.errors.length&&setTimeout(()=>{this.errors=[]},3e3);else{const e={first_name:this.firstname,last_name:this.lastname,email:this.username};await _.post(`/shopper/phone/${this.phoneNumber}/`,e).then(s=>{console.log("success"),this.refreshComponent()}).catch(s=>{if(s.response)for(const o in s.response.data)this.username="",this.errors.push(`${o}: ${s.response.data[o]}`);else s.message&&(this.username="",this.errors.push("Something went wrong. Please try again!"))})}},auth(){this.$emit("auth",this.isAuthenticated)},goBack(){this.$emit("stepNewAccountBack")},goOrder(){this.OrderSuccess=!0,this.OrderSuccess&&setTimeout(()=>{this.closeModal()},5e3)},goContinue(){this.submitForm()},closeModal(){this.$emit("close")},addItemToBasket(e){console.log(`Adding ${e.supplierName} to the shopping basket...`);let s="Layer3 - Guaranteed Services (SLA)",o="Layer3 - Best Effort Services (No SLA)";console.log(e.productType),e.productType===s?this.ServicesType="Internet":e.productType===o?this.ServicesType="Internet":this.ServicesType=e.productType,console.log(e);const n=this.basketItems.findIndex(c=>c.supplierName===e.supplierName&&c.MRC===e.MRC),d=this.basketItems.length;n>=0?console.log("this item has already been added!"):(this.counterCheckoutItems=d+1,this.basketItems.push({supplierName:e.supplierName,description:e.description,capacity:e.capacity,product:e.product,productType:this.ServicesType,contractPeriod:e.contractPeriod,NRC:e.NRC,MRC:e.MRC,quantity:1,total:e.MRC}),console.log(this.basketItems),this.productDescription=e.description,this.product=e.product)},addAddonToBasket(e){this.errors=[],this.descriptionVisible=!1;const s=this.basketItems.findIndex(n=>n.productType===e.name&&n.MRC===e.MRC),o=this.basketItems.length;s>=0?(this.errors.push("This item has already been added."),this.errors.length&&setTimeout(()=>{this.errors=[]},3e3),this.selectAddon(e)):(this.counterCheckoutItems=o+1,this.basketItems.push({supplierName:"",description:e.description,capacity:e.capacity,product:e.product,productType:e.name,contractPeriod:e.contractPeriod,NRC:e.NRC,MRC:e.MRC,quantity:1,total:e.MRC}),this.productDescription=e.description,this.product=e.product,this.selectedAddon=null,this.descriptionVisible=!0)},removeItemFromBasket(e){const s=this.basketItems.indexOf(e);s===0?this.basketItems=[]:s>0&&this.basketItems.splice(s,1),this.counterCheckoutItems=this.basketItems.length}}}),P=e=>(N("data-v-27e7ab7b"),e=e(),z(),e),Vn={class:"signup-modal"},Rn={class:"modal-header"},qn=P(()=>t("span",{class:"pl-2 textSecure scale-125 material-symbols-outlined"}," lock ",-1)),En={key:0,class:"textSecure"},Fn={key:1,class:"textSecure"},Dn={class:"providerH"},Un={key:0},jn={key:1},Gn={key:2},Kn={class:"providerfloat"},Wn={key:0},Hn=P(()=>t("span",{class:"icon material-symbols-outlined"},"shopping_cart_checkout",-1)),Zn={key:0,class:"absolute top-14 bg-pink text-white px-2 py-1 rounded-full text-xs"},Xn={class:"modal-close"},Jn={key:0,class:"modal-body-newAccount-tell"},Qn=P(()=>t("div",{class:"info-bar"},[t("label",{class:"pheader"},"Personal Information")],-1)),Yn={class:"signup-form"},el={class:"sign-up-inputnew"},tl=P(()=>t("label",{for:"firstname"},"First Name *",-1)),sl={class:"sign-up-inputnew"},ol=P(()=>t("label",{for:"lastname"},"Last Name *",-1)),il={class:"sign-up-inputnew"},rl=P(()=>t("label",{for:"email"},"Email address *",-1)),al={class:"sign-up-inputnew"},nl=P(()=>t("input",{class:"border-1 border-gray-300 px-3 py-3 bg-white rounded text-xs shadow focus:outline-none focus:ring-0 focus:border-pink w-full ease-linear transition-all duration-150",type:"text",id:"phonenumber",disabled:""},null,-1)),ll={for:"phonenumber"},dl={for:"agreementCheckbox",class:"pl-1"},cl=P(()=>t("span",{class:"text-pink font-bold"},"Privacy Policy.",-1)),pl={key:0,class:"error-sign-up"},ul=P(()=>t("span",{class:"material-symbols-outlined mr-1"},"error",-1)),hl={key:1,class:"modal-body-newAccount"},ml={key:0,class:"my-1 mx-1"},vl={class:"flex basket"},gl={class:"shoppingcart xs:w-2/3 bg-white px-5 py-1"},fl=A('<div class="flex mt-1 xs:mt-2 mb-1" data-v-27e7ab7b><h3 class="w-full shoppingcardescriptions text-xs uppercase xs:w-1/4" data-v-27e7ab7b>Details</h3><h3 class="w-full shoppingcardescriptions text-center text-xs uppercase xs:w-1/6" data-v-27e7ab7b>Type</h3><h3 class="w-full shoppingcardescriptions text-center text-xs uppercase xs:w-1/6" data-v-27e7ab7b>Speed</h3><h3 class="w-full shoppingcardescriptions text-center text-xs uppercase xs:w-1/12" data-v-27e7ab7b>Term</h3><h3 class="w-full shoppingcardescriptions text-center text-xs uppercase xs:w-1/6" data-v-27e7ab7b>Install</h3><h3 class="w-full shoppingcardescriptions text-center text-xs uppercase xs:w-1/6" data-v-27e7ab7b>Monthly</h3><h3 class="font-semibold w-full text-center text-gray-600 text-xs uppercase xs:w-1/12" data-v-27e7ab7b></h3></div>',1),yl={class:"flex xs:flex-row items-center -mx-6 px-6"},_l={class:"flex w-full xs:w-1/4"},bl={class:"w-24 mr-0 xs:mr-2 hidden xs:block"},wl=["src"],Sl={class:"flex w-full xs:w-1/6 justify-center items-center"},kl={class:"text-center text-gray-600 text-xs xs:text-xs"},Cl={class:"flex w-full xs:w-1/6 justify-center items-center xs:border-l"},xl={class:"text-center text-gray-600 text-xs xs:text-xs"},$l={class:"flex w-full xs:w-1/12 justify-center items-center xs:border-l"},Pl={class:"text-center text-gray-600 text-xs xs:text-xs"},Tl={class:"flex w-full xs:w-1/6 justify-center items-center xs:border-l"},Ll={class:"text-center text-gray-600 text-xs xs:text-xs"},Ml={class:"flex w-full xs:w-1/6 justify-center items-center xs:border-l"},Al={class:"text-center text-gray-600 text-xs xs:text-xs"},Il={class:"flex w-full xs:w-1/12 justify-end items-center xs:border-l"},Bl=["onClick"],Nl={class:"text-xs ml-2"},zl={key:0,class:"border-t"},Ol={class:"flex"},Vl={class:"shoppingcart bg-white"},Rl={class:"flex mt-1 xs:mt-2 mb-0"},ql={class:"w-full flex items-center shoppingcardescriptions text-xs uppercase"},El=M("Add-ons "),Fl={key:0,class:"scale-75 material-icons-outlined"},Dl={key:1,class:"scale-75 material-icons-outlined"},Ul={key:0,class:"flex xs:flex-row items-center justify-between"},jl={class:"flex w-full addons"},Gl=["onClick"],Kl={class:"scale-90 material-symbols-outlined pr-1"},Wl={class:"text-sm align-text-bottom"},Hl={key:1,class:"error-sign-up"},Zl=P(()=>t("span",{class:"scale-75 material-symbols-outlined mr-1"},"error",-1)),Xl={key:1,class:"border-t mt-1"},Jl={class:"flex xs:flex-row items-center -mx-6 mt-1 px-6"},Ql={class:"flex w-full xs:w-1/3 justify-center items-center"},Yl={class:"text-center text-gray-600 text-xs xs:text-xs"},ed={class:"flex w-full xs:w-1/6 justify-center items-center xs:border-l border-r : item.capacity === 0"},td={class:"text-center text-gray-600 text-xs xs:text-xs"},sd={class:"flex w-full xs:w-1/6 justify-center items-center xs:border-l"},od={class:"text-center text-gray-600 text-xs xs:text-xs"},id={class:"flex w-full xs:w-1/12 justify-center items-center xs:border-l"},rd={class:"text-center text-gray-600 text-xs xs:text-xs"},ad={class:"flex w-full xs:w-1/6 justify-center items-center xs:border-l"},nd={class:"text-center text-gray-600 text-xs xs:text-xs"},ld={class:"flex w-full xs:w-1/6 justify-center items-center xs:border-l"},dd={class:"text-center text-gray-600 text-xs xs:text-xs"},cd={class:"flex w-full xs:w-1/12 justify-end items-center xs:border-l"},pd=["onClick"],ud={key:2},hd={key:0,class:"modal-footer"},md=P(()=>t("span",null,"Back",-1)),vd=[md],gd={class:"pt-1 font-semibold text-gray-600 text-sm"},fd=P(()=>t("span",null,"Place Order",-1)),yd=[fd],_d={key:3},bd={class:"modal-footer"},wd=P(()=>t("span",null,"Back",-1)),Sd=[wd],kd=P(()=>t("span",null,"Submit",-1)),Cd=[kd],xd=P(()=>t("span",null,"Submit",-1)),$d=[xd],Pd={key:4,class:"order-placed"},Td=P(()=>t("div",null,[t("i",{class:"material-symbols-outlined"},[M("check_circle"),t("div",{class:"click-animation"})]),t("h3",{class:"text-2xl mb-2"},"Order Placed Successfully"),t("p",{class:"text-sm"},"We have sent you an sms with the order details")],-1)),Ld=[Td],Md=A('<svg width="0" height="0" style="display:none;" data-v-27e7ab7b><symbol viewBox="0 0 50 39" id="provider-slower" data-v-27e7ab7b><path d="M16.5438275,2.6353057 C25.7888275,-1.3236943 36.5338275,1.0803057 43.2038275,8.5993057 C49.8748275,16.1193057 50.9698275,27.0623057 45.9208275,35.7513057 C45.0918275,37.1853057 43.5648275,38.0723057 41.9078275,38.0823057 L9.59082745,38.0823057 L9.20682745,38.0673057 C7.96182745,37.9703057 6.81782745,37.3723057 6.01882745,36.4293057 C5.83682745,36.2693057 5.67082745,36.0893057 5.54282745,35.8693057 C4.94882745,34.8513057 4.42882745,33.7793057 3.99682745,32.6813057 C3.53082745,31.4993057 4.11182745,30.1643057 5.29382745,29.6993057 C6.47682745,29.2333057 7.81182745,29.8143057 8.27682745,30.9963057 C8.45882745,31.4573057 8.66182745,31.9123057 8.88082745,32.3593057 L8.89082745,32.3493057 C9.29882745,33.1143057 10.0988275,33.5903057 10.9678275,33.5843057 L40.4838275,33.5843057 L40.7718275,33.5673057 C41.3938275,33.4913057 41.9478275,33.1583057 42.3278275,32.6653057 C46.0008275,25.5013057 44.6428275,16.6313057 38.9168275,10.9053057 C36.2748275,8.2633057 32.9818275,6.5103057 29.4008275,5.7933057 C29.3618275,5.7853057 29.3228275,5.7793057 29.2838275,5.7723057 C28.8048275,5.6793057 28.3198275,5.6133057 27.8318275,5.5573057 C27.6758275,5.5413057 27.5208275,5.5193057 27.3638275,5.5063057 C26.9338275,5.4683057 26.5008275,5.4523057 26.0668275,5.4433057 C25.6198275,5.4373057 25.1728275,5.4453057 24.7228275,5.4723057 C24.7028275,5.4733057 24.6828275,5.4743057 24.6628275,5.4753057 C24.2438275,5.5013057 23.8238275,5.5403057 23.4038275,5.5953057 C21.7088275,5.7943057 20.0518275,6.2333057 18.4808275,6.9003057 L18.1928275,7.0183057 C18.1658275,7.0273057 18.1378275,7.0273057 18.1108275,7.0353057 C16.0328275,7.9573057 14.1138275,9.2493057 12.4588275,10.9053057 C10.6588275,12.7043057 9.27082745,14.8013057 8.32982745,17.1383057 C7.85682745,18.3163057 6.51782745,18.8893057 5.33782745,18.4133057 C4.15882745,17.9393057 3.58782745,16.5993057 4.06282745,15.4213057 C5.23482745,12.5053057 6.96582745,9.8923057 9.20582745,7.6523057 C11.2198275,5.6373057 13.5238275,4.0963057 15.9748275,2.9743057 C16.1458275,2.8373057 16.3348275,2.7213057 16.5438275,2.6353057 Z M25.3582951,18.4976948 L25.5937677,18.5037208 C27.3140523,18.587874 28.8826588,19.5463331 29.74728,21.0575012 L29.8703916,21.2857404 C30.6500025,22.822873 30.6070067,24.6601581 29.7444064,26.1616466 L29.6138776,26.3762423 C28.7569143,27.7102227 27.3321033,28.5625371 25.7662422,28.6893117 L25.3505506,28.7060903 L-3.88578059e-16,23.5507704 L25.3582951,18.4976948 Z" data-v-27e7ab7b></path></symbol></svg><svg width="0" height="0" style="display:none;" data-v-27e7ab7b><symbol viewBox="0 0 16 26" id="speed-down" data-v-27e7ab7b><polygon points="7 0 7 22.17 1.42 16.58 0 18 8 26 16 18 14.59 16.59 9 22.17 9 0" data-v-27e7ab7b></polygon></symbol></svg><svg width="0" height="0" style="display:none;" data-v-27e7ab7b><symbol viewBox="0 0 16 26" id="speed-up" data-v-27e7ab7b><polygon points="7 26 7 3.83 1.42 9.42 0 8 8 0 16 8 14.59 9.41 9 3.83 9 26" data-v-27e7ab7b></polygon></symbol></svg>',3);function Ad(e,s,o,n,d,c){return a(),l(g,null,[t("div",Vn,[t("div",Rn,[t("dl",null,[t("dt",null,[qn,e.shopper?(a(),l("span",Fn,u(e.shopper.first_name)+" "+u(e.shopper.last_name),1)):(a(),l("span",En,"Secure"))]),t("div",Dn,[!e.shopper&&!e.OrderSuccess?(a(),l("dd",Un,"Tell us a bit more")):m("",!0),e.shopper&&!e.OrderSuccess?(a(),l("dd",jn,"Order summary")):m("",!0),e.shopper&&e.OrderSuccess?(a(),l("dd",Gn,"Order status")):m("",!0),t("div",Kn,[e.shopper&&!e.OrderSuccess?(a(),l("div",Wn,[Hn,e.counterCheckoutItems?(a(),l("span",Zn,u(e.counterCheckoutItems),1)):m("",!0)])):m("",!0)])])]),t("div",Xn,[t("span",{title:"Restart",class:"scale-90 material-symbols-outlined",onClick:s[0]||(s[0]=(...i)=>e.closeModal&&e.closeModal(...i))},"restart_alt")])])]),!e.shopper&&!e.OrderSuccess?(a(),l("div",Jn,[Qn,t("form",{onSubmit:s[5]||(s[5]=Ie(()=>{},["prevent"]))},[t("div",Yn,[t("div",el,[f(t("input",{class:"border-1 border-gray-300 px-3 py-3 bg-white rounded text-xs shadow focus:outline-none focus:ring-0 focus:border-pink w-full ease-linear transition-all duration-150",type:"text",id:"firstname",required:"",autocomplete:"given-name","onUpdate:modelValue":s[1]||(s[1]=i=>e.firstname=i)},null,512),[[O,e.firstname]]),tl]),t("div",sl,[f(t("input",{class:"border-1 border-gray-300 px-3 py-3 bg-white rounded text-xs shadow focus:outline-none focus:ring-0 focus:border-pink w-full ease-linear transition-all duration-150",type:"text",id:"lastname",required:"",autocomplete:"family-name","onUpdate:modelValue":s[2]||(s[2]=i=>e.lastname=i)},null,512),[[O,e.lastname]]),ol]),t("div",il,[f(t("input",{class:"border-1 border-gray-300 px-3 py-3 bg-white rounded text-xs shadow focus:outline-none focus:ring-0 focus:border-pink w-full ease-linear transition-all duration-150",type:"text",id:"email",required:"",autocomplete:"email","onUpdate:modelValue":s[3]||(s[3]=i=>e.username=i)},null,512),[[O,e.username]]),rl]),t("div",al,[nl,t("label",ll,"Phone number: "+u(e.phoneNumber),1)])]),t("p",null,[f(t("input",{type:"checkbox",id:"agreementCheckbox","onUpdate:modelValue":s[4]||(s[4]=i=>e.isChecked=i)},null,512),[[Ae,e.isChecked]]),t("label",dl,[M(" By submitting, you agree to "+u(e.widgetURL)+" processing your personal information in line with its ",1),cl])])],32),e.errors.length?(a(),l("div",pl,[ul,t("p",null,u(e.errors[0]),1)])):m("",!0)])):m("",!0),e.shopper&&!e.OrderSuccess?(a(),l("div",hl,[e.optionalResults?(a(),l("div",ml,[t("div",vl,[t("div",gl,[fl,(a(!0),l(g,null,b(e.basketItems,(i,r)=>(a(),l("div",{class:"hover:bg-gray-100",key:r},[t("div",yl,[t("div",_l,[t("div",bl,[t("img",{src:e.getproviderThumbLogo(i.supplierName)},null,8,wl)])]),t("div",Sl,[t("span",kl,u(i.supplierName===""?i.productType:e.ServicesType),1)]),t("div",Cl,[t("span",xl,u(i.capacity===0?"":i.capacity+" Mbps"),1)]),t("div",$l,[t("span",Pl,u(i.contractPeriod),1)]),t("div",Tl,[t("span",Ll,u(e.currency)+u(i.NRC),1)]),t("div",Ml,[t("span",Al,u(e.currency)+u(i.MRC),1)]),t("div",Il,[t("button",{class:"images material-symbols-outlined",onClick:h=>e.removeItemFromBasket(i)},"delete",8,Bl)])]),t("div",Nl,[t("span",null,u(i.supplierName!==""?i.description:""),1)])]))),128)),e.optionalResults.length>0?(a(),l("div",zl,[t("div",Ol,[t("div",Vl,[t("div",Rl,[t("h3",ql,[El,t("span",{class:"addons",onClick:s[6]||(s[6]=(...i)=>e.toggleAddons&&e.toggleAddons(...i))},[e.showAddons?(a(),l("span",Fl,"remove")):(a(),l("span",Dl,"add"))])])]),e.showAddons?(a(),l("div",Ul,[t("div",jl,[(a(!0),l(g,null,b(e.getAddonProducts,i=>(a(),l("span",{key:i,class:"px-1 pr-5"},[t("div",{class:"images",onClick:r=>e.selectAddon(i)},[t("span",Kl,u(e.addonImages[i].name),1),t("span",Wl,u(i),1)],8,Gl)]))),128))])])):m("",!0),e.errors.length?(a(),l("div",Hl,[Zl,t("p",null,u(e.errors[0]),1)])):m("",!0)])])])):m("",!0),e.selectedAddon?(a(),l("div",Xl,[(a(!0),l(g,null,b(e.getAddonProductsChoice,i=>(a(),l("div",{key:i},[t("div",Jl,[t("div",Ql,[t("span",Yl,u(i.description),1)]),t("div",ed,[t("span",td,u(i.name),1)]),t("div",sd,[t("span",od,u(i.capacity===0?"":i.capacity+" Mbps"),1)]),t("div",id,[t("span",rd,u(i.contractPeriod),1)]),t("div",ad,[t("span",nd,u(e.currency)+u(i.NRC),1)]),t("div",ld,[t("span",dd,u(e.currency)+u(i.MRC),1)]),t("div",cd,[t("button",{class:"images material-symbols-outlined",onClick:r=>e.addAddonToBasket(i)},"add_circle",8,pd)])])]))),128))])):m("",!0)])])])):m("",!0)])):m("",!0),e.shopper&&!e.OrderSuccess?(a(),l("div",ud,[e.Order?(a(),l("div",hd,[t("button",{class:"signup-button ghost",onClick:s[7]||(s[7]=(...i)=>e.goBack&&e.goBack(...i))},vd),t("h1",gd,"Total amount: "+u(e.currency)+u(e.total),1),t("button",{class:"signup-button primary",onClick:s[8]||(s[8]=(...i)=>e.goOrder&&e.goOrder(...i))},yd)])):m("",!0)])):m("",!0),!e.shopper&&!e.OrderSuccess?(a(),l("div",_d,[t("div",bd,[t("button",{class:"signup-button ghost",onClick:s[9]||(s[9]=(...i)=>e.goBack&&e.goBack(...i))},Sd),e.isChecked?(a(),l("button",{key:0,class:"signup-button primary",onClick:s[10]||(s[10]=(...i)=>e.goContinue&&e.goContinue(...i))},Cd)):(a(),l("button",{key:1,class:"signup-button disabled",onClick:s[11]||(s[11]=(...i)=>e.goContinue&&e.goContinue(...i))},$d))])])):m("",!0),e.OrderSuccess?(a(),l("div",Pd,Ld)):m("",!0),Md],64)}var Id=k(On,[["render",Ad],["__scopeId","data-v-27e7ab7b"]]);const Bd=C({async mounted(){},props:{prodAvail:Array},emits:["close"],components:{MazPhoneNumberInput:de,MazInput:Be},data(){return{login:!0,isVerified:!1,authenticated:!1,phoneNumber:"",otp:"",errors:[],results:null,selectedProduct:""}},created(){},computed:{isValid(){return this.results?this.results.isValid:!1}},methods:{async submitForm(){if(this.errors=[],this.username===""?this.errors.push("Please fill in a valid email address"):/\S+@\S+\.\S+/.test(this.username)||this.errors.push("Please enter a valid email address"),this.password===""?(this.errors.push("Password cannot be empty"),this.password="",this.retypepassword=""):this.password.length<7&&(this.errors.push("Password must be at least 7 characters long"),this.password="",this.retypepassword=""),!this.errors.length){const e={username:this.username,email:this.username,password:this.password};await _.post("/accounts/users/",e).then(s=>{console.log("success")}).catch(s=>{if(s.response)for(const o in s.response.data)this.password="",this.retypepassword="",this.username="",this.errors.push(`${o}: ${s.response.data[o]}`);else s.message&&(this.password="",this.retypepassword="",this.username="",this.errors.push("Something went wrong. Please try again!"))})}},closeModal(){},async verifyPhoneNumber(){this.errors=[],await _.get(`/verify/time_based/${this.phoneNumber}/`).then(e=>{this.isVerified=!0,console.log(e.data)}).catch(e=>{if(e.response){this.phoneNumber="";for(const s in e.response.data)this.errors.push(`${s}: ${e.response.data[s]}`)}else e.message&&this.errors.push("Something went wrong. Please try again!");setTimeout(()=>{this.errors=[]},3e3)})},async verifyPhoneNumber(){this.errors=[],await _.get(`/verify/time_based/${this.phoneNumber}/`).then(e=>{this.isVerified=!0,console.log(e.data)}).catch(e=>{if(e.response){this.phoneNumber="";for(const s in e.response.data)this.errors.push(`${s}: ${e.response.data[s]}`)}else e.message&&this.errors.push("Something went wrong. Please try again!");setTimeout(()=>{this.errors=[]},3e3)})},goBack(){},goContinue(){this.username&&this.password!="testing"?(this.authenticated=!0,this.username=""):(this.authenticated=!1,this.username="")},async getOnlySelectedService(){}}}),F=e=>(N("data-v-42ac4454"),e=e(),z(),e),Nd={class:"signup-modal"},zd={class:"modal-header"},Od=F(()=>t("dl",null,[t("dt",null,[t("span",{class:"pl-2 textSecure scale-125 material-symbols-outlined"}," lock "),t("span",{class:"textSecure"},"Secure")]),t("dd",null,"Contact Me")],-1)),Vd={class:"modal-close"},Rd={key:0,class:"modal-body-OTPAccount"},qd={key:0,class:"form-wrapper"},Ed=F(()=>t("span",null,"Verify",-1)),Fd=[Ed],Dd={key:1,class:"signup-button-verify disabled"},Ud=F(()=>t("span",null,"Send OTP",-1)),jd=[Ud],Gd={key:1,class:"sign-up-input"},Kd=F(()=>t("label",{for:"otp"},"Enter OTP *",-1)),Wd=F(()=>t("button",{class:"material-symbols-outlined"},"shield_lock",-1)),Hd={key:2,class:"error-sign-up"},Zd=F(()=>t("span",{class:"material-symbols-outlined mr-1"},"error",-1)),Xd={class:"modal-footer"},Jd=F(()=>t("span",null,"Back",-1)),Qd=[Jd];function Yd(e,s,o,n,d,c){const i=y("MazPhoneNumberInput");return a(),l(g,null,[t("div",Nd,[t("div",zd,[Od,t("div",Vd,[t("span",{class:"scale-75 material-symbols-outlined",onClick:s[0]||(s[0]=(...r)=>e.closeModal&&e.closeModal(...r))},"close")])])]),e.login?(a(),l("div",Rd,[e.isVerified?(a(),l("div",Gd,[f(t("input",{class:"border-1 border-gray-300 px-3 py-3 bg-white rounded text-xs shadow focus:outline-none focus:ring-0 focus:border-pink w-full ease-linear transition-all duration-150",type:"text",id:"otp",required:"",maxlength:"6","onUpdate:modelValue":s[4]||(s[4]=r=>e.otp=r)},null,512),[[O,e.otp]]),Kd,Wd])):(a(),l("div",qd,[x(i,{modelValue:e.phoneNumber,"onUpdate:modelValue":s[1]||(s[1]=r=>e.phoneNumber=r),color:"info","only-countries":["ZA"],enableAreaCodes:!1,"no-search":!0,"default-country-code":"ZA",size:"md",onUpdate:s[2]||(s[2]=r=>e.results=r),success:e.isValid},null,8,["modelValue","success"]),e.isValid?(a(),l("button",{key:0,class:"signup-button-verify verify",onClick:s[3]||(s[3]=(...r)=>e.verifyPhoneNumber&&e.verifyPhoneNumber(...r))},Fd)):(a(),l("button",Dd,jd))])),e.errors.length?(a(),l("div",Hd,[Zd,t("p",null,u(e.errors[0]),1)])):m("",!0)])):m("",!0),t("div",Xd,[t("button",{class:"signup-button ghost",onClick:s[5]||(s[5]=(...r)=>e.goBack&&e.goBack(...r))},Qd)])],64)}var ec=k(Bd,[["render",Yd],["__scopeId","data-v-42ac4454"]]);const tc=C({async mounted(){},props:{prodAvail:Array},emits:["stepOTP","close"],components:{MazPhoneNumberInput:de},data(){return{otpAttempt:0,isVerified:!1,isAuthenticated:!1,back:!1,phoneNumber:"",otp:"",errors:[],results:null,selectedProduct:""}},watch:{otp(e){e.length===6&&(this.otpAttempt<2?(this.otpAttempt++,this.verifyOTP(e)):(this.otpAttempt=0,this.otp="",this.phoneNumber="",this.errors.push("3 x failed attempts, redirecting you"),setTimeout(()=>{this.isVerified=!1},2e3)),this.getMobileFromSource())}},computed:{isValid(){return this.results?this.results.isValid:!1}},methods:{closeModal(){this.$emit("close")},async verifyPhoneNumber(){this.errors=[],await _.get(`/verify/time_based/${this.phoneNumber}/`).then(e=>{this.isVerified=!0,console.log(e.data)}).catch(e=>{if(e.response){this.phoneNumber="";for(const s in e.response.data)this.errors.push(`${s}: ${e.response.data[s]}`)}else e.message&&this.errors.push("Something went wrong. Please try again!");setTimeout(()=>{this.errors=[]},3e3)})},async verifyOTP(e){this.errors=[];const s={otp:e};await _.post(`/verify/time_based/${this.phoneNumber}/`,s).then(o=>{this.isAuthenticated=!0,localStorage.setItem("session",JSON.stringify({user:this.phoneNumber,timestamp:Date.now()})),localStorage.getItem("mobile")?(localStorage.removeItem("mobile"),localStorage.setItem("mobile",this.phoneNumber)):localStorage.setItem("mobile",this.phoneNumber),this.$emit("stepOTP",this.isAuthenticated,this.back)}).catch(o=>{o.response?o.response.status===400?(this.otp="",this.phoneNumber="",this.errors.push("Your One-Time PIN expired, redirecting you"),setTimeout(()=>{this.isVerified=!1},3e3)):o.response.status===410?(this.otp="",this.errors.push("Your One-Time PIN is incorrect.")):(this.otp="",this.errors.push("Something went wrong. Please try again!")):o.message&&(this.otp="",this.errors.push("Something went wrong. Please try again!")),setTimeout(()=>{this.errors=[]},3e3)})},async getMobileFromSource(){if(this.phoneNumber){const e=localStorage.getItem("sid");await gt(e,this.phoneNumber)}},goBack(){this.back=!0,this.$emit("stepOTP",this.isAuthenticated,this.back)}}}),D=e=>(N("data-v-5343dbd0"),e=e(),z(),e),sc={class:"signup-modal"},oc={class:"modal-header"},ic=D(()=>t("dl",null,[t("dt",null,[t("span",{class:"pl-2 textSecure scale-125 material-symbols-outlined"}," lock "),t("span",{class:"textSecure"},"Secure")]),t("dd",null,"OTP Login")],-1)),rc={class:"modal-close"},ac={class:"modal-body-OTPAccount"},nc={key:0,class:"form-wrapper"},lc=D(()=>t("span",null,"Verify",-1)),dc=[lc],cc={key:1,class:"signup-button-verify disabled"},pc=D(()=>t("span",null,"Send OTP",-1)),uc=[pc],hc={key:1,class:"sign-up-input"},mc=D(()=>t("label",{for:"otp"},"Enter OTP *",-1)),vc=D(()=>t("button",{class:"material-symbols-outlined"},"shield_lock",-1)),gc={key:2,class:"error-sign-up"},fc=D(()=>t("span",{class:"material-symbols-outlined mr-1"},"error",-1)),yc={class:"modal-footer"},_c=D(()=>t("span",null,"Back",-1)),bc=[_c];function wc(e,s,o,n,d,c){const i=y("MazPhoneNumberInput");return a(),l(g,null,[t("div",sc,[t("div",oc,[ic,t("div",rc,[t("span",{class:"scale-75 material-symbols-outlined",onClick:s[0]||(s[0]=(...r)=>e.closeModal&&e.closeModal(...r))},"close")])])]),t("div",ac,[e.isVerified?(a(),l("div",hc,[f(t("input",{class:"border-1 border-gray-300 px-3 py-3 bg-white rounded text-xs shadow focus:outline-none focus:ring-0 focus:border-pink w-full ease-linear transition-all duration-150",type:"text",id:"otp",required:"",maxlength:"6","onUpdate:modelValue":s[4]||(s[4]=r=>e.otp=r)},null,512),[[O,e.otp]]),mc,vc])):(a(),l("div",nc,[x(i,{modelValue:e.phoneNumber,"onUpdate:modelValue":s[1]||(s[1]=r=>e.phoneNumber=r),color:"info",enableAreaCodes:!1,"no-search":!0,"default-country-code":"ZA",size:"md",onUpdate:s[2]||(s[2]=r=>e.results=r),success:e.isValid},null,8,["modelValue","success"]),e.isValid?(a(),l("button",{key:0,class:"signup-button-verify verify",onClick:s[3]||(s[3]=(...r)=>e.verifyPhoneNumber&&e.verifyPhoneNumber(...r))},dc)):(a(),l("button",cc,uc))])),e.errors.length?(a(),l("div",gc,[fc,t("p",null,u(e.errors[0]),1)])):m("",!0)]),t("div",yc,[t("button",{class:"signup-button ghost",onClick:s[5]||(s[5]=(...r)=>e.goBack&&e.goBack(...r))},bc)])],64)}var Sc=k(tc,[["render",wc],["__scopeId","data-v-5343dbd0"]]);const kc=C({async mounted(){this.widgetURL=window.location.origin},props:{match:{type:Boolean,default:!0},GKey:{type:String,default:""}},data(){return{widgetURL:""}}}),Cc={key:0},xc=t("div",{class:"heading"},[t("h2",{class:"text-sm text-center py-3"},"Problem Encountered")],-1),$c={class:"error-message"},Pc=M("The Website address "),Tc={class:"underlined"},Lc=M(" does not match our records associated with your mapchi-key in our database. To fix this, follow the steps below."),Mc={class:"steps pl-2"},Ac=t("p",null,"Steps to follow:",-1),Ic={class:"py-3.5"},Bc=A('<li>Login to Admin: <a href="https://mapchi.com/login/" target="_blank"><span class="underlined">https://mapchi.com/login</span></a></li><li class="alingtext">Navigate to Settings, under the Admin section<img src="https://res.cloudinary.com/vidmax/image/upload/v1684664222/Screenshot_2023-05-21_at_12.16.49_g7s2ms.png"></li><li>Click on Platform Keys<img src="https://res.cloudinary.com/vidmax/image/upload/v1684662485/Screenshot_2023-05-21_at_11.42.27_kfjggv.png"></li>',3),Nc=M("Enter "),zc={class:"underlined"},Oc=M(" as your Website Address"),Vc={key:1},Rc=A('<div class="heading"><h2 class="text-sm text-center py-3">Problem Encountered</h2></div><div class="error-message"><p>We could not find any record of your Google API Key in our database. For your Widget to work, follow the steps below.</p></div><div class="steps pl-2"><p>Steps to follow:</p><ol class="py-3.5"><li>Login to Admin: <a href="https://mapchi.com/login/" target="_blank"><span class="underlined">https://mapchi.com/login</span></a></li><li class="alingtext">Navigate to Settings, under the Admin section<img src="https://res.cloudinary.com/vidmax/image/upload/v1684664222/Screenshot_2023-05-21_at_12.16.49_g7s2ms.png"></li><li>Click on Platform Keys<img src="https://res.cloudinary.com/vidmax/image/upload/v1684662485/Screenshot_2023-05-21_at_11.42.27_kfjggv.png"></li><li>Enter your Google API Key: Alternative get a free google API key <a href="https://mapsplatform.google.com" target="_blank"><span class="underlined">https://mapsplatform.google.com</span></a></li></ol></div>',3),qc=[Rc];function Ec(e,s,o,n,d,c){return e.match?(a(),l("div",Vc,qc)):(a(),l("div",Cc,[xc,t("div",$c,[t("p",null,[Pc,t("span",Tc,u(e.widgetURL),1),Lc])]),t("div",Mc,[Ac,t("ol",Ic,[Bc,t("li",null,[Nc,t("span",zc,u(e.widgetURL),1),Oc])])])]))}var Fc=k(kc,[["render",Ec]]);const Dc=C({async mounted(){document.addEventListener("keydown",e=>{const s=e.key;s==="ArrowUp"?(e.preventDefault(),this.selected=Math.max(0,this.selected-1)):s==="ArrowDown"?(e.preventDefault(),this.selected=Math.min(Math.max(this.places.length-1,0),this.selected+1)):s==="Backspace"||s==="Delete"?this.PInfo=[]:s==="Enter"&&(e.preventDefault(),this.location=this.places[this.selected].description,this.placeid=this.places[this.selected].place_id,this.open=!1,this.places=[],console.log(this.selected))},!1)},props:{show:{type:Boolean,default:!1},userprofile:{type:Boolean,default:!0},match:{type:Boolean,default:!0},GKey:{type:String,default:""}},components:{Results:Ze,Branding:tt,GoogleMapAutocomplete:vt,GoogleMapLoader:At,Options:Ps,Spinner:js,Checkout:vr,StepProduct:Hr,StepProvider:Na,StepPackage:zn,StepNewAccount:Id,StepContact:ec,StepOTP:Sc,Error:Fc},computed:{mapConfig(){return J({},De)}},data(){return{open:!1,newgoogleSession:!1,url:"",websiteaddress:"",login:!1,isAuthenticated:!1,package:!1,authenticated:!1,product:!1,apiResults:!1,contact:!1,order:!1,selectedProduct:"",selectedServices:[],selectedProvider:"",chosenPackage:[],optionalResults:[],shopper:null,providerIndex:0,pintoken:"",location:"",lekker:"",seachValue:"",placeid:"",amount:0,abc:null,searchService:null,placesService:null,places:[],googleSessionToken:[],results:[],selected:0,debounceTimerId:null,debounceTimeout:50,searcher:null,geocoderresults:[],lat:0,lng:0,latlng:"",PInfo:[],providerApiresults:[],numArray:[],productsAvailable:[],error:"",loading:!1,ad_delay:!1,subtest:!1,chosen:"Fibre (Active Ethernet)",OSTest:"",marketing:!1,roller:!1,dots:!1,image:"",imgArray:[{id:1,src:"https://res.cloudinary.com/vidmax/image/upload/v1682347009/VOX_Ad_15s_-_lower_Res_pxkd1p.gif",alt:"Provider B"}]}},watch:{userprofile(e){e?e&&(this.open=!1):this.open=!0},location(e){if(this.selected=0,this.debounceTimerId&&clearTimeout(this.debounceTimerId),!e)this.placeid="",this.open=!1;else{if(V.exports.isEmpty(e)||e.length<3){this.open=!1,this.PInfo=[],this.placeid="";return}this.open=!0,this.newgoogleSession=!1,this.debounceTimerId=setTimeout(()=>{},this.debounceTimeout)}}},methods:{imgRandom(){for(var e=0;e<18;e++){var s=this.imgArray[Math.floor(Math.random()*this.imgArray.length)],o=new Image;o.src=s.src,this.image=o.src,console.log(this.image)}},sleep(e){return new Promise(s=>setTimeout(s,e))},async providers(e,s){this.marketing=!0,this.imgRandom(),this.newgoogleSession=!1,this.loading=!0,console.log(e,s);const o=localStorage.getItem("key");console.log(o);const{productsAvailable:n,amount:d,providerApiresults:c}=await ot(e,s,o);this.productsAvailable=n,this.amount=d,c!==null?(this.providerApiresults=c,this.providerApiresults.length===0&&(this.apiResults=!0,console.log("No providers, redirect to contact page to contact when coverage becomes available and log in database, no coverage table"))):(this.apiResults=!0,console.log("No providers, redirect to contact page to contact when coverage becomes available and log in database, no coverage table")),this.ad_delay=!0},thumbup(e){if(e.lat.length===0){const o=e.toString(),n=o.indexOf(","),d=Number(o.substring(1,n)),c=Number(o.substring(n+1,o.length-1));this.PInfo=[],this.placeid="",this.providers(d,c)}else{const o=e.lat,n=e.lng;this.PInfo=[],this.placeid="",this.providers(o,n)}},serviceOptions(e,s){this.OSTest="",this.chosen=s,this.subtest=e},handlestepSpinner(e){this.ad_delay=!1,e?(this.contact=e,this.subtest=!1,this.loading=!1,this.OSTest="1"):(this.contact=e,this.subtest=!0,this.loading=!1,this.OSTest="1")},handlestepProduct(e){this.OSTest="",this.subtest=!0,this.selectedProduct=e},handlestepProvider(e,s,o){this.selectedServices=e,this.selectedProvider=s,this.providerIndex=o,this.login=!1,this.package=!0,this.subtest=!1},handlestepNewAccountBack(){this.order=!1,this.package=!0},handlestepAccAuth(e){e||(this.order=!1,this.login=!0)},handlestepPackage(e,s){this.chosenPackage=e,this.optionalResults=s,this.package=!1,this.order=!0},handlestepOTP(e,s){if(s){this.login=!1,this.package=!0,s=!1;return}this.chosenPackage.capacity?(this.login=!1,this.package=!1,this.order=!0):e&&(this.login=!1,this.package=!0)},handlestepAuth(e){e||(this.package=!1,this.login=!0)},close(){this.open=!1,this.location="",this.places=[],this.subtest=!1,this.contact=!1,this.login=!1,this.package=!1,this.order=!1},handlestepProviderBack(e,s){this.package=!1,this.subtest=!0,this.providerIndex=e,this.selectedProvider=s},handler(e){this.places=e[0],this.googleSessionToken=e[1]},lochandler(e){this.lat=e.lat,this.lng=e.lng,this.newgoogleSession=!0,this.googleSessionToken=[]},choice(e){this.seachValue=e[0].description,this.placeid=e[0].place_id,this.location=this.seachValue,this.open=!1,this.PInfo=[],this.places=[]},updateDebounce(e){this.debounceTimeout=.9*this.debounceTimeout+.1*e}}});function Uc(e,s,o,n,d,c){const i=y("Error"),r=y("GoogleMapAutocomplete"),h=y("Results"),T=y("GoogleMapLoader"),Z=y("Spinner"),X=y("StepProvider"),j=y("StepContact"),he=y("StepOTP"),me=y("StepPackage"),ve=y("StepNewAccount"),ge=y("Branding");return a(),l("div",{class:L(["font-sans text-sm w-full sm:w-128 max-w-full bg-white shadow-catche fixed top-0 sm:top-1/2 left-1/2 -translate-x-1/2 sm:-translate-y-1/2 sm:rounded-3xl flex flex-col divide-y overflow-hidden",[{"h-72":e.loading},e.show?"opacity-100":"opacity-0 pointer-events-none",e.open?"h-96":"h-[3.75rem]"]]),style:{transition:"opacity 300ms, height 300ms"}},[e.userprofile?m("",!0):(a(),B(i,{key:0,match:e.match,GKey:e.GKey},null,8,["match","GKey"])),e.userprofile&&e.GKey?(a(),B(r,{key:1,modelValue:e.location,"onUpdate:modelValue":s[0]||(s[0]=ee=>e.location=ee),GKey:e.GKey,sessionNew:e.googleSessionToken,onToResults:e.handler},null,8,["modelValue","GKey","sessionNew","onToResults"])):m("",!0),x(h,{results:e.places,onChoice:e.choice,selected:e.selected},null,8,["results","onChoice","selected"]),f(x(T,{modelValue:e.location,"onUpdate:modelValue":s[1]||(s[1]=ee=>e.location=ee),mapConfig:e.mapConfig,searchValue:e.placeid,googleSessionToken:e.googleSessionToken,onToLoc:e.lochandler,onProvider:e.thumbup},null,8,["modelValue","mapConfig","searchValue","googleSessionToken","onToLoc","onProvider"]),[[R,e.newgoogleSession]]),e.loading?(a(),B(Z,{key:2,imageref:e.image,marketing:e.marketing,apiResults:e.apiResults,ad_delay:e.ad_delay,roller:e.roller,dots:e.dots,onStepSpinner:e.handlestepSpinner},null,8,["imageref","marketing","apiResults","ad_delay","roller","dots","onStepSpinner"])):m("",!0),e.subtest?(a(),B(X,{key:3,prodAvail:e.productsAvailable,serviceChoice:"selectedProduct",apiResults:e.providerApiresults,providerIndexBack:e.providerIndex,selectedProviderBack:e.selectedProvider,onStepProvider:e.handlestepProvider,onClose:e.close},null,8,["prodAvail","apiResults","providerIndexBack","selectedProviderBack","onStepProvider","onClose"])):m("",!0),e.contact?(a(),B(j,{key:4,prodAvail:e.productsAvailable,onClose:e.close},null,8,["prodAvail","onClose"])):m("",!0),e.login?(a(),B(he,{key:5,prodAvail:e.productsAvailable,onStepOTP:e.handlestepOTP,onClose:e.close},null,8,["prodAvail","onStepOTP","onClose"])):m("",!0),e.package?(a(),B(me,{key:6,selectedResults:e.selectedServices,selectedDecision:e.selectedProvider,providerIndex:e.providerIndex,onStepProviderBack:e.handlestepProviderBack,onStepAuth:e.handlestepAuth,onStepPackage:e.handlestepPackage},null,8,["selectedResults","selectedDecision","providerIndex","onStepProviderBack","onStepAuth","onStepPackage"])):m("",!0),e.order?(a(),B(ve,{key:7,chosenPackage:e.chosenPackage,optionalResults:e.optionalResults,onAuth:e.handlestepAccAuth,onStepNewAccountBack:e.handlestepNewAccountBack,onClose:e.close},null,8,["chosenPackage","optionalResults","onAuth","onStepNewAccountBack","onClose"])):m("",!0),x(ge)],2)}var jc=k(Dc,[["render",Uc]]);const Gc=C({async mounted(){const e=document.querySelector("script[mapchi-key]");if(console.log(e),e&&(this.mapchiKey=e.getAttribute("mapchi-key"),console.log(this.mapchiKey)),this.mapchiKey&&(await this.loadData(),await this.getUserProfile())){const o=window.location.hostname;this.websiteaddress===o?this.GKey?this.login=!0:this.login=!1:(this.login=!1,this.match=!1)}document.addEventListener("keydown",s=>{const o=s.key;(s.ctrlKey||s.metaKey)&&o==="m"?(s.preventDefault(),this.show=!this.show):o==="Escape"&&(this.show=!1)},!1)},components:{Icon:Fe,SearchMenu2:jc},data(){return{mapchiKey:"",login:!0,match:!0,show:!1,searcher:null,websiteaddress:"",GKey:"",errors:[]}},computed:{computedLoginProp:{get(){return this.login},set(e){this.login=e}}},methods:{toggle(){this.show=!this.show},async loadData(){_.defaults.headers.common.Authorization="",_.defaults.headers.common.Token="",localStorage.removeItem("key"),localStorage.removeItem("sid"),console.log("loaddata");const e={username:"api@mapche.com",password:"Willem1@.Olivier2@.3456"};await _.post("/accounts/token/login/",e).then(s=>{const o=s.data.auth_token;console.log(o),_.defaults.headers.common.Authorization="Token "+o,localStorage.setItem("key",this.mapchiKey)}).catch(s=>{if(s.response)for(const o in s.response.data)this.errors.push(`${o}: ${s.response.data[o]}`);else s.message&&this.errors.push("Something went wrong. Please try again!")})},async getUserProfile(){try{const e=await _.get("/mapche-api/v1/userprofile/",{params:{mapche_key:this.mapchiKey}});if(console.log(e),e.data[0]){const s=e.data[0].business,o=e.data[0].website_address;return this.websiteaddress=this.getDomainName(o),this.GKey=e.data[0].google_api_key,localStorage.setItem("business",s),!0}else return this.login=!0,this.GKey="AIzaSyDj2IO0ORaSNsK8QfwF6smchysLLzhHq6c",!1}catch(e){if(e.response)for(const s in e.response.data)this.errors.push(`${s}: ${e.response.data[s]}`);else e.message&&this.errors.push("Something went wrong. Please try again!");return!1}},getDomainName(e){const o=e.toLowerCase().match(/^(?:https?:\/\/)?(?:[^@\n]+@)?(?:www\.)?([^:\/\n]+)/im);return o?o[1]:""}}});function Kc(e,s,o,n,d,c){const i=y("Icon"),r=y("SearchMenu2");return a(),l(g,null,[x(i,{id:"mapchi-icon",onClick:e.toggle,style:{"z-index":"2147483645"}},null,8,["onClick"]),t("div",{id:"mapchi-background",class:L(["fixed top-0 left-0 bg-white h-screen w-screen transition-all duration-300",e.show?"show opacity-80":"opacity-0 pointer-events-none"]),onClick:s[0]||(s[0]=h=>e.show=!1),style:{"z-index":"2147483646"}},null,2),x(r,{id:"mapchi-menu",userprofile:e.computedLoginProp,GKey:e.GKey,match:e.match,show:e.show,style:{"z-index":"2147483647"}},null,8,["userprofile","GKey","match","show"])],64)}var Wc=k(Gc,[["render",Kc]]);const Hc=C({components:{Main:Wc}});function Zc(e,s,o,n,d,c){const i=y("Main");return a(),B(i)}var Xc=k(Hc,[["render",Zc]]);_.defaults.baseURL="https://api.mapchi.com";(function(){var r;const s=document.querySelector("script[mapche-css]");let o=null;s&&(o=s.getAttribute("mapche-css"));const n=document.createElement("div");n.setAttribute("id","mapche-search");const d=((r=n.attachShadow)==null?void 0:r.call(n,{mode:"open"}))||n,c=document.createElement("link");if(c.setAttribute("rel","stylesheet"),c.setAttribute("href","https://cdn.jsdelivr.net/gh/Bluejuice1001/mapche-search-widget@0.3.3/index.css"),d.appendChild(c),o){const h=document.createElement("link");h.setAttribute("rel","stylesheet"),h.setAttribute("href",o),d.appendChild(h)}const i=document.createElement("div");d.appendChild(i),Ne(Xc).mount(i),document.body.appendChild(n)})();
